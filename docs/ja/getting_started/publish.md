# GTFSフィードを一般公開する 
 
## GTFSを共有するメリット 
 
 GTFSデータはさまざまな方法で利用できます。交通機関のGTFSデータを一般公開すると、乗客と交通agency全体に多くのメリットがもたらされます。メリットには次のものが含まれます。 
 
 - フィードをモバイルおよびウェブベースの旅行計画アプリケーションに統合し、乗客がシステムで旅行を計画できるようにする 
 - フィードを Mobility Database などのGTFSアグリゲータに送信すると、より多くのユーザーが利用し、agencyの知名度が向上する 
 - 地理情報システム (GIS) やその他の地図ベースの分析プログラムでGTFSデータを視覚化および分析できるツールを使用する 
 
### 旅行計画アプリ 
 
 交通機関のGTFSデータが公開されると、Google マップに加えてさまざまな旅行計画アプリケーションでそのデータを利用できるようになります。これらには、Bing マップ、Apple マップなどの他のナビゲーション アプリや、Transit、Moovit、Transportr、Citymapper などの交通機関専用プラットフォームが含まれます。さらに、オープン フィード データにアクセスすることで、開発者は特定の地域向けのアプリを作成したり、Vamos (カリフォルニア州サンホアキン郡とスタニスラウス郡)、MetroHero (ワシントン DC エリア)、Entur (ノルウェー) などの標準の旅行プランナーに含まれていt機能を備えたアプリを作成したりできます。 
 
### フィード アグリゲータ 
 
 GTFSデータを共有すると、 GTFSフィード アグリゲーション プラットフォームによるインデックス作成も可能になります。これには、州レベルまたは地域レベルのGTFSフィード ディレクトリのほか、[Mobility Database](https:( https://database.mobilitydata.org/) や [Transitland](https://www.transit.land/) などの国際的なフィード アグリゲータも含まれます (その他のフィード アグリゲータについては、[こちら](../../resources/data) を参照してください)。フィード アグリゲータにインデックス作成されると、機関の認知度が高まり、開発者、研究者、その他の関係者が、新しいアプリケーションの開発など、さまざまな目的で機関のデータに簡単にアクセスできるようになります。 
 
### GIS、分析、その他のプラットフォームやツールとの統合 
 
 GTFSデータは、さまざまな地理空間分析プラットフォームにインポートして使用することもできます。 Esri の ArcGIS などの地理情報システム (GIS) プログラムやオープンソースの QGIS には、 GTFS の停留所とルートのデータをimportて視覚化できる独自のプラグインと拡張機能があります。 
 
 - Esri には、スケジュール データの視覚化など、 GTFSデータを使用する [さまざまなツールとプラグイン](https://github.com/Esri/public-transit-tools) があります 
 - QGIS では、[GTFS-GO](https://plugins.qgis.org/plugins/GTFS-GO-master/) と [GTFS Loader](https://plugins.qgis.org/plugins/GTFS_Loader/) を使用して、プラットフォーム内のroutes+stopsを視覚化できます 
 - [追加の分析ツール](../../resources/agency-tools) 
 
 その他のプラットフォームでは、 GTFSデータを独自の方法で視覚化および分析できます。 
 
 - [Conveyal](https://conveyal.com/) は、ユーザーがGTFSデータをimportスケジュール、routes、パターンを視覚化できるオープン ソース プログラムです。 
 - [GTFS to HTML](https:(https://gtfstohtml.com/) は、GTFS スケジュール データを HTML 時刻表に変換できるオープンソース ツールです。これにより、交通機関はroutesリーダーでも読み取れる形式で Web サイトでスケジュールを自動的にimportおよび更新できるため、視覚障害のある人もデータを利用できるようになります。 
 
## データの共有: ヒントとベスト プラクティス 
 
### 永続的なフェッチ リンクを作成して維持する 
 
 フェッチ リンクは、交通機関のGTFS Scheduleファイルが保存される永続的なURLです。通常、フェッチ リンクは交通機関の Web サイトか、 GTFS制作のためにベンダーと契約している場合はベンダーによってホストされます。これは、Google マップなどの旅行計画アプリがデータにアクセスする方法です。理想的には、 GTFS Scheduleファイルは、ログインを必要とせずにこのURLから直接ダウンロードできる必要があります。ただし、ライセンスの制限によりこれが実現できない場合は、agencyがAPI キーを使用してデータのユーザーに発行することで、データへのアクセスを制御できます。 
 
### URLとファイル名 
 
 一貫した取得リンクとGTFSファイル名は、フィード データへのアクセスを保証するために不可欠です。agencyがデータに一貫した URL とファイル名を使用しない場合、旅行計画アプリ、フィード アグリゲータ、およびその他のユーザーは最も正確で最新のデータを取得できず、長期的には問題がcauseことになります。 
 
 永続的な取得リンクのURLを設定したら、変更しないでください。つまり、ファイル自体が更新された場合でも、 URL名は一貫している必要があります。したがって、URL はできるだけシンプルで汎用的なままにし、日付やバージョン番号が含まれる URL は使用しないでください。 
 
 - **良い:** http://www.bart.gov/dev/schedules/google_transit.zip、
 - **避けるべき:** http://www.bart.gov/dev/schedules/google_transit_Fall_2021.zip 
 
 同様に、フィード自体を更新した場合でも、 GTFS Scheduleファイルを含む ZIP フォルダの名前は一貫している必要があります。たとえば、フィードを更新する場合、ZIP フォルダ名にdateやバージョン番号を追加しないでください。フィード バージョンやフィード開始日および終了日に関するデータをフィードに含める場合は、 feed_info.txtファイルに含めることができます。 
 
 - **良い例:** “YourAgency_gtfs.zip”、“google_transit.zip”、“gtfs.zip”、
 - **避けるべき例:** “YourAgency_gtfs_092921.zip”、“YourAgency_Fall2021.zip” 
 
 
### ファイル構成と整合性 
 
 GTFSは、相互接続された複数のテキスト ファイル (.txt ) を含む zip ファイルです。形式が正しいことを確認するには、常に次のGTFSを行ってください。 
 
 1.テキスト ファイルを開くときは、値がテキストのままであることを確認してください。GTFS には、Excel などのアプリケーションで誤って読み取られたり、省略されたりするフィールドが多数あります。 
 2.ファイルはタブ区切りではなく、カンマ区切りです。つまり、各ファイルには行にレコードが含まれ、異なるフィールドはカンマで区切られています。 
 3.余分な行や列があると、使用するアプリケーションでエラーがcauseので、ファイルを保存するときに空の行や列がないことを確認してください。 
 4. GTFS内のファイルを破棄しないでください。ファイルは連携して動作し、不足しているファイルがあると、使用するアプリケーションでエラーがcause可能性があります。 
 5.ファイルを再圧縮するときは、ファイルを含むフォルダではなく、ファイルを圧縮するようにしてください。ファイルを解凍して、ファイルを含む別のフォルダではなく、そのフォルダ内のファイルをすぐに確認することで、正しく実行されたことを確認できます。 
 
 
### その他の考慮事項 
 
 複数の機関が異なる名前またはコードで同じ停留所を共有している場合、Google マップなどのアプリケーションは 1 つを選択する必要がある場合があります。混乱を避けるため、他の機関と調整して名前とコードについて合意してください。これにより、異なるGTFSデータセット間の競合が最小限に抑えられます。 
 
 複数のGTFSデータセットを利用できる場合（通常は、1 つは Transit App などのパブリック アプリケーション用に作成され、もう 1 つは社内の運用CAD/AVL システム用に作成された結果）、公開するGTFSデータセットを決定する必要がある場合があります。乗客向けの情報を最も多く含むフィードを宣伝することをお勧めします。可能な限り、 GTFSデータセットが一致するようにし（stopsや旅行などの ID が同じ）、社内のデータセットがパブリックのデータセットと競合しないようにします。また、 GTFS-RT などの他のフィードを統合することもできます。
 

