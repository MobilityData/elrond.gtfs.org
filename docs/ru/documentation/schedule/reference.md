## Справочная информация по General Transit Feed Specification 
 
 **Пересмотрено 22 мая 2024 г. Для получения более подробной информации см. [История изменений](../change_history/revision_history).** 
 
 Этот документ определяет формат и структуру файлы, составляющие набор данных GTFS. 
 
## Оглавление 
 
 1. [Условные обозначения](#document-conventions) 
 2. [Файлы набора данных](#dataset-files) 
 3. [Требования к файлам](#file-требования) 
 4. [Публикация наборов данных и общие практики](#dataset-publishing-general-practices) 
 5. [Определения полей](#field-definitions) 
 - [agency.txt](#agencytxt) 
 - [stops.txt](#stopstxt) 
 - [routes.txt](#routestxt) 
 - [trips.txt](#tripstxt) 
 - [stop\_times.txt](#stop_timestxt) 
 - [calendar.txt](#calendartxt) 
 - [calendar\_dates.txt](#calendar_datestxt) 
 - [fare\_attributes.txt](#fare_attributestxt) 
 - [fare\_rules.txt](#fare_rulestxt) 
 - [timeframes.txt](#timeframestxt) 
 - [fare\_media.txt](#fare_mediatxt) 
 - [fare\_products.txt](#fare_productstxt) 
 - [fare\ _leg\_rules.txt](#fare_leg_rulestxt) 
 - [fare\_transfer\_rules.txt](#fare_transfer_rulestxt) 
 - [areas.txt](#areastxt) 
 - [stop_areas.txt](#stop_areastxt) 
 - [networks.txt](#networkstxt) 
 - [route_networks.txt](#route_networkstxt) 
 - [shapes.txt](#shapestxt) 
 - [frequencies.txt](#frequencystxt) 
 - [transfers.txt](#transferstxt) 
 - [pathways.txt](#pathwaystxt) 
 - [levels.txt](#levelstxt) 
 - [location_groups.txt](#location_groupstxt) 
 - [location_group_stops.txt](#location_group_stopstxt) 
 - [locations.geojson](#locationsgeojson) 
 - [booking_rules.txt](#booking_rulestxt) 
 - [translations.txt](#translationstxt) 
 - [feed\ _info.txt](#feed_infotxt) 
 - [attributions.txt](#attributionstxt) 
 
## Условные обозначения документа 
 Ключевые слова «ДОЛЖЕН», «НЕ ДОЛЖЕН», «ТРЕБУЕТСЯ», «ДОЛЖЕН», «НЕ ДОЛЖНО», «СЛЕДУЕТ», «РЕКОМЕНДУЕТСЯ», «МОЖЕТ» и «НЕОБЯЗАТЕЛЬНО» в этом документе интерпретироваться, как описано в [RFC 2119](https://tools.ietf.org/html/rfc2119). 
 
 
### Определения терминов 
 
 В этом разделе определены термины, используемые в этом документе. 
 
 * **Набор данных** — полный набор файлов, определенный в этой ссылке на спецификацию. Изменение набора данных создает новую версию набора данных. Наборы данных следует публиковать по общедоступному постоянному URL, включая имя zip-файла. (например, https://www.agency.org/gtfs/gtfs.zip). 
 * **Запись** — базовая структура данных, состоящая из ряда различных значений полей, описывающих один entity (например, транзитное agency, остановку, маршрут и т.д.). Представлено в таблице в виде строки. 
 * **Поле** — свойство объекта или entity. Представлено в таблице в виде столбца. Поле существует, если оно добавлено в файл в качестве header. Он может иметь или не иметь определенные значения полей. 
 * **Значение поля** — отдельная запись в поле. Представлено в таблице как одна ячейка. 
 * **День обслуживания**. День обслуживания — это период времени, используемый для обозначения планирования маршрута. Точное определение дня обслуживания варьируется от agency к agency, но дни обслуживания часто не совпадают с календарными днями. День обслуживания может превышать 24:00:00, если обслуживание начинается в один день и заканчивается в следующий день. Например, услуга, которая работает с 08:00:00 пятницы до 02:00:00 субботы, может быть обозначена как работающая с 08:00:00 до 26:00:00 в один день обслуживания. 
 * **Поле преобразования текста в речь**. Поле должно содержать ту же информацию, что и его родительское поле (которое оно возвращается, если оно пусто). Он предназначен для чтения в режиме преобразования текста в речь, поэтому аббревиатуру следует либо удалить («St» следует читать как «Улица» или «Святая»; «Елизавета I» должна быть «Елизавета Первая») или продолжали читать как есть («Аэропорт имени Джона Кеннеди» произносится сокращенно). 
 * **Этап** — путешествие, при котором пассажир садится и выходит между парой последующих мест во время поездки. 
 * **Путешествие** – общий путь от пункта отправления до пункта назначения, включая все этапы и transfers между ними. 
 * **Под-путешествие** — два или более этапов, составляющих подмножество путешествия. 
 * **Тарифный продукт** — приобретаемые тарифные продукты, которые можно использовать для оплаты или подтверждения поездки. 
 
### Присутствие 
 Условия присутствия, применимые к полям и файлам: 
 
 * **Обязательно** — поле или файл должны быть включены в набор данных и содержать допустимое значение для каждой записи. 
 * **Необязательно** — поле или файл можно исключить из набора данных. 
 * **Условно обязательно** — поле или файл должны быть включены при соблюдении условий, указанных в описании поля или файла. 
 * **Условно запрещено** — поле или файл не должны быть включены при условиях, указанных в описании поля или файла. 
 * **Рекомендуется** – поле или файл можно исключить из набора данных, но рекомендуется включать их. Прежде чем пропустить это поле или файл, следует тщательно оценить передовую практику и понять все последствия пропуска. 
 
### Типы полей 
 
 - **Цвет** — цвет, закодированный как шестизначное шестнадцатеричное число. Обратитесь к [https://htmlcolorcodes.com](https://htmlcolorcodes.com), чтобы сгенерировать допустимое значение (нельзя включать начальный символ "#").<br> *Пример: `FFFFFF для белого цвета, `000000` для черного или `0039A6 для линий A,C,E в NYMTA.* 
 - **Код валюты** - Буквенный код currency по стандарту ISO 4217. Список текущей currency см.в [https://en.wikipedia.org/wiki/ISO_4217#Active\_codes](https://en.wikipedia.org/wiki/ISO_4217#Active_codes).<br> *Пример: `CAD для канадских долларов, `EUR для евро или `JPY для японских иен.* 
 - **amount валюты ** - Десятичное значение, указывающее amount currency. Количество десятичных знаков указано в [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217#Active_codes) для соответствующего кода валюты. Все финансовые расчеты должны обрабатываться как десятичные, currency или другие эквивалентные типы, подходящие для финансовых расчетов, в зависимости от языка программирования, используемого для потребления данных. Обработка currency сумм в float виде не рекомендуется из-за прибылей или потерь денег во время расчетов. 
 - **Дата** - День обслуживания в формате ГГГГММДД. Поскольку время в пределах дня обслуживания может превышать 24:00:00, день обслуживания может содержать информацию для последующих дней.<br> *Пример: «20180913» на 13 сентября 2018 г.* 
 — **Email** — Адрес электронной почты.<br> *Пример: `example@example.com`* 
 - **Enum** — опция из набора предопределенных констант, определенных в столбце «Описание».<br> *Пример: поле `route_type содержит `0` для трамвая, `1` для метро...* 
 - **ID** - Значение поля ID является внутренним идентификатором, не предназначенным для показа всадников и представляет собой последовательность любых символов UTF-8. Рекомендуется использовать только печатные символы ASCII. Идентификатор помечается как «уникальный идентификатор», если он должен быть уникальным в пределах файла. Идентификаторы, определенные в одном файле.txt, часто упоминаются в другом файле.txt. Идентификаторы, которые ссылаются на идентификатор в другой таблице, помечены как «внешний идентификатор».<br> *Пример: поле `stop_id` в [stops.txt](#stopstxt) представляет собой «уникальный идентификатор». Поле `parent_station в [stops.txt](#stopstxt) представляет собой «внешний идентификатор, ссылающийся на `stops.stop_id».* 
 - **Код языка** — код языка IETF BCP 47. Введение в IETF BCP 47 .txt найти по адресу [http://www.rfc-editor.org/rfc/bcp/bcp47.txt](http ://www.rfc-editor.org/rfc/bcp/bcp47 .txt) и [http://www.w3.org/International/articles/language-tags/](http ://www.w3.org/International/articles/language-tags/).<br> *Пример: `en` для английского языка, `en-US для американского английского или `de` для немецкого языка.* 
 - **Широта** — latitude WGS84 в десятичных градусах. Значение должно быть больше или равно -90,0 и меньше или равно 90,0. *<br> Пример: `41.890169` для Колизея в Риме.* 
 - **Долгота** — longitude WGS84 в десятичных градусах. Значение должно быть больше или равно -180,0 и меньше или равно 180,0.<br> *Пример: `12.492269` для Колизея в Риме.* 
 - **Float** — число с плавающей запятой. 
 - **Целое** - Целое число. 
 - **Phone number** - Номер телефона. 
 - **Время** - Время в формате ЧЧ:ММ:СС (также допускается Ч:ММ:СС). Время измеряется от «полдня минус 12 часов» дня обслуживания (фактически в полночь, за исключением дней, в которые происходит переход на летнее время). Для времени, наступившего после полуночи в день обслуживания, введите время как значение больше 24:00:00 в формате ЧЧ:ММ:СС.<br> *Пример: «14:30:00» для 14:30 или «25:35:00» для 1:35 утра следующего дня.* 
 — **Text** — string символов UTF-8, которая предназначен для отображения и поэтому должен быть удобочитаемым для человека. 
 - **Часовой пояс** — часовой пояс TZ из [https://www.iana.org/time-zones](https://www.iana.org/time-zones). Названия часовых поясов никогда не содержат пробела, но могут содержать подчеркивание. Обратитесь к [http://en.wikipedia.org/wiki/List\_of\_tz\_zones](http ://en.wikipedia.org/wiki/List\_of\_tz\_zones) для получения списка допустимых значений..<br> *Пример: «Asia/Tokyo», «America/Los_Angeles» или «Africa/Cairo».* 
 - **URL** — полный URL, включающий http://или https://, а также любые специальные символы в URL должны быть правильно экранированы. См.следующее [http://www.w3.org/Addressing/URL/4\_URI\_Recommentations.html](http://www.w3.org/Addressing/URL/4\_URI\_Recommentations.html) для описание того, как создавать полные значения URL. 
 
### Знаки полей 
 Знаки, применимые к типам полей с Float или целым числом: 
 
 * **Неотрицательное** — больше или равно 0. 
 * **Ненулевое** - Не равно 0. 
 * **Положительное** - Больше 0. 
 
 _Пример: **Неотрицательное float** - Число с плавающей запятой, большее или равное 0._ 
 
### Атрибуты набора данных 
 **Первичный ключ** набора данных — это поле или комбинация полей, которые однозначно идентифицируют строку. `Primary key (*)` используется, когда все предоставленные поля файла используются для уникальной идентификации строки. `Primary key (none)` означает, что файл допускает только одну строку. 
 
 _Пример: поля `trip_id` и `stop_sequence` составляют первичный ключ [stop_times.txt](#stop_timestxt)._ 
 
## Файлы набора данных 
 
 Эта спецификация определяет следующие файлы: 
 
 | Имя файла | Присутствие | Описание | 
 |------|------|------| 
 | [agency.txt](#агентствоtxt) | **Обязательно** | Транзитные агентства, услуги которых представлены в этом наборе данных. | 
 | [stops.txt](#stopstxt) | **Обязательно** | Остановки, где транспортные средства забирают или высаживают пассажиров. Также определяет станции и входы на станции. | 
 | [routes.txt](#routestxt) | **Обязательно** | Транзитные routes. Маршрут — это группа поездок, которые отображаются пассажирам как единая услуга. | 
 | [trips.txt](#tripstxt) | **Обязательно** | Поездки по каждому маршруту. Поездка — это последовательность двух или более stops, происходящих в течение определенного периода времени. | 
 | [stop_times.txt](#stop_timestxt) | **Обязательно** | Время прибытия и отправления vehicle с stops для каждой поездки. | 
 | [calendar.txt](#calendartxt) | **Условно обязательно** | Даты обслуживания указаны с использованием еженедельного расписания с датами начала и окончания.<br><br> Условно требуется:<br> - **Обязательно**, если все даты обслуживания не определены в [calendar_dates.txt](#calendar_datestxt).<br> - В противном случае необязательно. | 
 | [calendar_dates.txt](#calendar_datestxt) | **Условно обязательно** | Исключения для служб, определенных в [calendar.txt](#calendartxt).<br><br> Условно требуется:<br> - **Обязательно**, если [calendar.txt](#calendartxt) опущен. В этом случае [calendar_dates.txt](#calendar_datestxt) должен содержать все даты обслуживания.<br> - В противном случае необязательно. | 
 | [fare_attributes.txt](#fare_attributestxt) | Необязательно | Информация о тарифах на routes транзитного агентства. | 
 | [fare_rules.txt](#fare_rulestxt) | Необязательно | Правила применения тарифов на маршрутах. | 
 | [таймфреймы.txt](#timeframestxt) | Необязательно | Периоды даты и времени для использования в правилах применения тарифов, которые зависят от факторов date и времени. | 
 | [fare_media.txt](#fare_mediatxt) | Необязательно | Описать средства оплаты тарифов, которые можно использовать для использования продуктов тарифов.<br><br> Файл [fare_media.txt](#fare_mediatxt) описывает концепции, которые не представлены в [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). Таким образом, использование [fare_media.txt](#fare_mediatxt) полностью отделено от файлов [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). | 
 | [fare_products.txt](#fare_productstxt) | Необязательно | Описать различные типы билетов или тарифов, которые могут приобрести пассажиры.<br><br> Файл [fare_products.txt](#fare_productstxt) описывает тарифные продукты, которые не представлены в [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). Таким образом, использование [fare_products.txt](#fare_productstxt) полностью отделено от файлов [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). | 
 | [fare_leg_rules.txt](#fare_leg_rulestxt) | Необязательно | Правила тарифов на отдельные этапы путешествия.<br><br> Файл [fare_leg_rules.txt](#fare_leg_rulestxt) предоставляет более подробный метод моделирования структуры тарифов. Таким образом, использование [fare_leg_rules.txt](#fare_leg_rulestxt) полностью отделено от файлов [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). | 
 | [fare_transfer_rules.txt](#fare_transfer_rulestxt) | Необязательно | Правила тарифа на transfers между этапами путешествия.<br><br> Наряду с [fare_leg_rules.txt](#fare_leg_rulestxt), файл [fare_transfer_rules.txt](#fare_transfer_rulestxt) предоставляет более подробный метод моделирования структуры тарифов. Таким образом, использование [fare_transfer_rules.txt](#fare_transfer_rulestxt) полностью отделено от файлов [fare_attributes.txt](#fare_attributestxt) и [fare_rules.txt](#fare_rulestxt). | 
 | [areas.txt](#areastxt) | Необязательно | Группировка локаций по площади. | 
 | [stop_areas.txt](#stop_areastxt) | Необязательно | Правила назначения stops по районам. | 
 | [сети.txt](#networkstxt) | **Условно запрещено** | Сетевая группировка routes.<br><br> Условно запрещено:<br> - **Запрещено**, если `network_id существует в [routes.txt](#routestxt).<br> - В противном случае необязательно. | 
 | [route_networks.txt](#route_networkstxt) | **Условно запрещено** | Правила назначения routes сетям.<br><br> Условно запрещено:<br> - **Запрещено**, если `network_id существует в [routes.txt](#routestxt).<br> - В противном случае необязательно. | 
 | [shapes.txt](#shapesxt) | Необязательно | Правила картирования маршрутов движения vehicle, иногда называемые выравниванием маршрутов. | 
 | [frequencies.txt](#frequencystxt) | Необязательно | Интервал (время между рейсами) для обслуживания на основе интервала или сжатое представление обслуживания по фиксированному расписанию. | 
 | [transfers.txt](#transferstxt) | Необязательно | Правила осуществления стыковок в пересадочных пунктах между routes. | 
 | [pathways.txt](#pathwaystxt) | Необязательно | Пути, соединяющие локации внутри станций. | 
 | [levels.txt](#levelstxt) | **Условно обязательно** | Уровни внутри станций.<br><br> Условно требуется:<br> - **Обязателен** при описании pathways с лифтами (`pathway_mode=5).<br> - В противном случае необязательно. | 
 | [location_groups.txt](#location_groupstxt) | Необязательно | Группа stops, которые вместе указывают места, где пассажир может запросить посадку или высадку. | 
 | [location_group_stops.txt](#location_group_stopstxt) | Необязательно | Правила назначения stops группам локаций. | 
 | [locations.geojson](#locationsgeojson) | Необязательно | Зоны для запросов на посадку или высадку пассажиров службами по требованию, представленные в виде многоугольников GeoJSON. | 
 | [booking_rules.txt](#booking_rulestxt) | Необязательно | Информация о бронировании услуг, запрошенных пассажиром. | 
 | [translations.txt](#translationstxt) | Необязательно | Переводы значений набора данных, ориентированных на клиента. | 
 | [feed_info.txt](#feed_infotxt) | Необязательно | Метаданные набора данных, включая информацию об издателе, версии и сроке действия. | 
 | [attributions.txt](#attributionstxt) | Необязательно | attributions набора данных. | 
 
## Требования к файлам 
 
 К формату и содержимому файлов наборов данных применяются следующие требования: 
 
 * Все файлы должны сохраняться в виде текста, разделенного запятыми. 
 * Первая строка каждого файла должна содержать имена полей. Каждый подраздел раздела [Определения полей](#field-definitions) соответствует одному из файлов в наборе данных GTFS и содержит список имен полей, которые могут использоваться в этом файле. 
 * Все имена файлов и полей чувствительны к регистру. 
 * Значения полей не должны содержать табуляции, возврата каретки или новых строк. 
 * Значения полей, содержащие кавычки или запятые, должны быть заключены в кавычки. Кроме того, каждой кавычке в значении поля должна предшествовать кавычка. Это соответствует тому, как Microsoft Excel выводит файлы с разделителями-запятыми (CSV). Дополнительную информацию о формате файла CSV см.в [http://tools.ietf.org/html/rfc4180](http://tools.ietf.org/html/rfc4180). 
 В следующем примере показано, как значение поля будет отображаться в файле, разделенном запятыми: 
 * **Исходное значение поля:** `Contains "quotes", commas and text` 
 * **Значение поля в файле CSV :** `"Contains ""quotes"", commas and text"` 
 * Значения полей не должны содержать HTML-теги, комментарии или escape-последовательности. 
 * Лишние пробелы между полями или именами полей должны быть удалены. Многие анализаторы считают пробелы частью значения, что может cause ошибки. 
 * Каждая строка должна заканчиваться символом разрыва строки CRLF или LF. 
 * Файлы должны быть закодированы в UTF-8 для поддержки всех символов Юникода. Допускаются файлы, содержащие символ метки порядка байтов (BOM) Юникода. См. [http://unicode.org/faq/utf_bom.html#BOM](http://unicode.org/faq/utf_bom.html#BOM) для получения дополнительной информации о символе спецификации и UTF-8. 
 * Все файлы наборов данных должны быть заархивированы вместе. Файлы должны находиться непосредственно на корневом уровне, а не в подпапке. 
 * Все текстовые строки, обращенные к клиенту (включая названия остановок, названия маршрутов и указатели), должны быть написаны в смешанном регистре (не ВСЕ ЗАГЛАВНЫЕ), следуя местным правилам написания названий мест с заглавной буквы на дисплеях, способных отображать символы нижнего регистра (например, «Брайтон»). Черчилль-сквер», «Вилье-сюр-Марн», «Маркет-стрит»). 
 * Следует избегать использования сокращений в названиях и другом тексте в ленте (например, улица вместо улицы), если только местоположение не называется сокращенным названием (например, «Аэропорт имени Джона Кеннеди»). Сокращения могут быть проблематичными из-за доступности программного обеспечения для чтения с экрана и голосовых пользовательских интерфейсов. Потребляющее программное обеспечение может быть спроектировано так, чтобы надежно преобразовывать полные слова в сокращения для отображения, но преобразование сокращений в полные слова подвержено большему риску ошибок. 
 
## Публикация наборов данных и общие практики 
 
 * Наборы данных должны публиковаться по общедоступному постоянному URL, включая имя zip-файла. (например, agency.org/gtfs/gtfs.zip). В идеале URL должен быть доступен для прямой загрузки без необходимости входа в систему для доступа к файлу, чтобы облегчить загрузку путем использования программных приложений. Хотя рекомендуется (и это наиболее распространенная практика) сделать набор данных GTFS доступным для открытой загрузки, если поставщику данных необходимо контролировать доступ к GTFS по лицензированию или по другим причинам, рекомендуется контролировать доступ к набору данных GTFS с помощью ключей API. что облегчит автоматическую загрузку. 
 * Данные GTFS должны публиковаться итерациями, чтобы один файл в стабильном месте всегда содержал самое последнее официальное описание услуг транзитного agency (или агентств). 
 * Наборы данных должны поддерживать постоянные идентификаторы (поля id ) для `stop_id`, `route_id` и `agency_id во всех итерациях данных, когда это возможно. 
 * Один набор данных GTFS должен содержать текущие и предстоящие услуги (иногда называемый «объединенным» набором данных). Доступно несколько [инструментов слияния](../../../resources/gtfs/#gtfs-merge-tools), которые можно использовать для создания объединенного набора данных из двух разных фидов GTFS. 
 * В любой момент опубликованный набор данных GTFS должен быть действителен как минимум в течение следующих 7 дней, а в идеале — до тех пор, пока оператор уверен, что расписание будет продолжать выполняться. 
 * Если возможно, набор данных GTFS должен охватывать как минимум следующие 30 дней эксплуатации. 
 * Старые услуги (календари с истекшим сроком действия) следует удалить из ленты. 
 * Если изменение услуги вступит в силу через 7 дней или меньше, это изменение должно быть выражено через фид GTFS в реальном времени (рекомендации по услугам или обновления поездок), а не через статический набор данных GTFS. 
 * Веб-сервер, на котором размещены данные GTFS, должен быть настроен так, чтобы правильно сообщать date изменения файла (см. [HTTP/1.1 – Запрос комментариев 2616, раздел 14.29](https://tools.ietf.org/html/rfc2616#раздел-14.29)). 
 
## Определения полей 
 
### agency.txt 
 
 Файл: **Обязательный** 
 
 Первичный ключ (`agency_id`) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `agency_id| Уникальный идентификатор | **Условно обязательно** | Обозначает транзитный бренд, который часто является синонимом транзитного agency. Обратите внимание, что в некоторых случаях, например, когда одно agency предоставляет несколько отдельных услуг, агентства и бренды различаются. В этом документе вместо термина «бренд» используется термин «agency». Набор данных может содержать данные от нескольких агентств.<br><br> Условно требуется:<br> - **Обязательно**, если набор данных содержит данные для нескольких транспортных агентств.<br> - Рекомендуется иначе. | 
 | `agency_name| Text | **Обязательно** | Полное наименование транзитного agency. | 
 | `agency_url| URL-адрес | **Обязательно** | URL транзитного agency. | 
 | `agency_timezone| Часовой пояс | **Обязательно** | Часовой пояс, в котором находится транзитное agency. Если в наборе данных указано несколько агентств, каждое из них должно иметь один и тот же `agency_timezone. | 
 | `agency_lang| Код языка | Необязательно | Основной язык, используемый этим транзитным agency. Должен быть предоставлен, чтобы помочь потребителям GTFS выбирать правила использования заглавных букв и другие языковые настройки для набора данных. | 
 | `agency_phone| Phone number | Необязательно | Номер голосового телефона указанного agency. Это поле представляет собой string значение, которое представляет номер телефона, типичный для зоны обслуживания агентства. Он может содержать знаки препинания для группировки цифр номера. Набираемый текст (например, «503-238-RIDE» TriMet) разрешен, но поле не должно содержать никакого другого описательного текста. | 
 | `agency_fare_url| URL-адрес | Необязательно | URL веб-страницы, которая позволяет пассажиру приобретать билеты или другие тарифные инструменты для этого agency онлайн. | 
 | `agency_email| Email | Необязательно | Адрес Email активно контролируется отделом обслуживания клиентов агентства. Этот адрес электронной почты должен быть прямым контактным лицом, по которому пассажиры общественного транспорта смогут связаться с представителем службы поддержки клиентов в agency. | 
 
### stops.txt 
 
 Файл: **Обязательный** 
 
 Первичный ключ (`stop_id`) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `stop_id` | Уникальный идентификатор | **Обязательно** | Определяет местоположение: остановка/платформа, станция, вход/выход, общий узел или зона посадки (см. `location_type).<br><br> Идентификатор должен быть уникальным для всех значений `stops.stop_id, locations.geojson `id` и `location_groups.location_group_id`.<br><br> Несколько routes могут использовать один и тот же `stop_id`. | 
 | `stop_code| Text | Необязательно | Короткий текст или номер, обозначающий местоположение для пассажиров. Эти коды часто используются в телефонных информационных системах общественного транспорта или печатаются на вывесках, чтобы пассажирам было легче получить информацию о конкретном месте. `stop_code может быть таким же, как `stop_id`, если он общедоступен. Это поле следует оставить пустым для мест, где пассажирам не предоставлен код. | 
 | `stop_name` | Text | **Условно обязательно** | Название локации. `stop_name должно соответствовать названию агентства, обращенному к водителю, указанному в расписании, опубликованному в Интернете или представленному на вывесках. Для перевода на другие языки используйте [translations.txt](#translationstxt).<br><br> Если местоположение является зоной посадки (`location_type=4), `stop_name должно содержать название зоны посадки, отображаемое agency. Это может быть всего лишь одна буква (как на некоторых европейских междугородных железнодорожных станциях) или текст типа «Зона посадки для инвалидных колясок» (метро Нью-Йорка) или «Начальник коротких поездов» (парижское RER).<br><br> Условно требуется:<br> - **Обязателен** для мест, которые являются stops (`location_type=0`), станциями (`location_type=1`) или входами/выходами (`location_type=2`).<br> - Необязательно для локаций, которые являются общими узлами (`location_type=3`) или зонами посадки (`location_type=4`).| 
 | `tts_stop_name| Text | Необязательно | Читаемая версия `stop_name. Дополнительную информацию см.в разделе «Поле преобразования текста в речь» в [Определениях терминов](#term-definitions). | 
 | `stop_desc| Text | Необязательно | Описание локации, дающее полезную и качественную информацию. Не должно быть дубликатом `stop_name.| 
 | `стоп

лат` | Широта | **Условно обязательно** | Широта места.<br><br> Для stops/платформ (`location_type=0`) и зоны посадки (`location_type=4`) координаты должны быть координатами автобусной стойки (если она существует) и, в противном случае, координатами места посадки пассажиров в vehicle (на тротуаре). или платформе, а не на проезжей части или пути, где stops vehicle ).<br><br> Условно требуется:<br> - **Обязательно** для мест, которые являются stops (`location_type=0`), станциями (`location_type=1`) или входами/выходами (`location_type=2`).<br> - Необязательно для локаций, которые являются общими узлами (`location_type=3`) или зонами посадки (`location_type=4`).| 
 | `stop_lon` | Долгота | **Условно обязательно** | Долгота местоположения.<br><br> Для stops/платформ (`location_type=0`) и зоны посадки (`location_type=4`) координаты должны быть координатами автобусной стойки (если она существует) и, в противном случае, координатами того места, где путешественники садятся в vehicle (на тротуаре). или платформе, а не на проезжей части или пути, где stops vehicle ).<br><br> Условно требуется:<br> - **Обязательно** для мест, которые являются stops (`location_type=0`), станциями (`location_type=1`) или входами/выходами (`location_type=2`).<br> - Необязательно для локаций, которые являются общими узлами (`location_type=3`) или зонами посадки (`location_type=4`). | 
 | `zone_id| удостоверение личности | Необязательно | Определяет тарифную зону для остановки. Если эта запись представляет станцию ​​или вход на станцию, `zone_id игнорируется.| 
 | `stop_url| URL-адрес | Необязательно | URL веб-страницы о местоположении. Это значение должно отличаться от значений полей «agency.agency_url» и «routes.route_url». | 
 | `location_type| Перечисление | Необязательно | Тип местоположения. Допустимые варианты:<br><br> `0` (или пусто) – **Стоп** (или **Платформа**). Место посадки или высадки пассажиров из транзитного vehicle. Называется платформой, если она определена в `parent_station.<br> `1` – **Станция**. Физическая конструкция или территория, содержащая одну или несколько платформ.<br> `2` — **Вход/Выход**. Место, где пассажиры могут войти или выйти на станцию ​​с улицы. Если вход/выход принадлежит нескольким станциям, он может быть связан pathways с обеими, но поставщик данных должен выбрать одну из них в качестве родительской.<br> `3` – **Общий узел**. Местоположение внутри станции, не соответствующее никакому другому `location_type, которое может использоваться для соединения pathways, определенных в [pathways.txt](#pathwaystxt).<br> `4` – **Зона посадки**. Определенное место на платформе, где пассажиры могут садиться и/или выходить из транспортных средств.| 
 | `parent_station| Ссылка на внешний идентификатор `stops.stop_id| **Условно обязательно** | Определяет иерархию между различными местоположениями, определенными в [stops.txt](#stopstxt). Он содержит идентификатор родительского местоположения следующим образом:<br><br> - **Остановка/платформа** (`location_type=0): поле `parent_station содержит идентификатор станции.<br> - **Станция** (`location_type=1`): это поле должно быть пустым.<br> - **Вход/выход** (`location_type=2) или **универсальный узел** (`location_type=3): поле `parent_station содержит идентификатор станции (`location_type=1)<br> - **Зона посадки** (`location_type=4): поле `parent_station содержит идентификатор платформы.<br><br> Условно требуется:<br> - **Обязательно** для мест, которые являются входами (`location_type=2`), общими узлами (`location_type=3`) или зонами посадки (`location_type=4`).<br> - Необязательно для stops/платформ (`location_type=0).<br> - Запрещено для станций (`location_type=1).| 
 | `stop_timezone| Часовой пояс | Необязательно | Часовой пояс места. Если у местоположения есть родительская станция, оно наследует часовой пояс родительской станции, а не применяет свой собственный. Станции и stops без родительских объектов с пустым `stop_timezone наследуют часовой пояс, указанный в `agency.agency_timezone. Время, указанное в [stop_times.txt](#stop_timestxt), находится в часовом поясе, указанном в `agency.agency_timezone, а не в `stop_timezone. Это гарантирует, что значения времени в поездке всегда увеличиваются в ходе поездки, независимо от того, какие часовые пояса пересекает поездка. | 
 | `wheelchair_boarding| Перечисление | Необязательно | Указывает, возможна ли посадка на инвалидных колясках с данного места. Допустимые варианты:<br><br> Для stops без родителей:<br> `0` или пусто — информация о доступности остановки отсутствует.<br> `1` — в некоторые транспортные средства на этой остановке можно сесть в инвалидной коляске.<br> `2` - на этой остановке посадка на инвалидных колясках невозможна.<br><br> Для детских stops:<br> `0` или пусто — Stop унаследует поведение `wheelchair_boarding от родительской станции, если указано в родительской станции.<br> `1` — существует доступный путь снаружи станции к конкретной остановке/платформе.<br> `2` — не существует доступного пути снаружи станции к конкретной остановке/платформе.<br><br> Для входов/выходов на станцию:<br> `0` или пусто — вход на станцию ​​унаследует поведение `wheelchair_boarding от родительской станции, если указано для родительской станции.<br> `1` — вход на станцию ​​доступен для гостей на инвалидных колясках.<br> `2` — нет доступного пути от входа на станцию ​​до stops/платформ. | 
 | `level_id` | Внешний идентификатор, ссылающийся на `levels.level_id| Необязательно | Уровень локации. Один и тот же уровень может использоваться несколькими несвязанными станциями.| 
 | `platform_code| Text | Необязательно | Идентификатор платформы для остановки платформы (остановки, принадлежащей станции). Это должен быть просто идентификатор платформы (например, «G» или «3»). Такие слова, как «платформа» или «трек» (или их эквиваленты на определенном языке) не следует включать. Это позволяет потребителям каналов легче интернационализировать и локализовать идентификатор платформы на другие языки. | 
 
 
### routes.txt 
 
 Файл: **Обязательный** 
 
 Первичный ключ (`route_id`) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `route_id` | Уникальный идентификатор | **Обязательно** | Определяет маршрут. | 
 | `agency_id| Иностранный идентификатор, ссылающийся на `agency.agency_id| **Условно обязательно** | Агентство по указанному маршруту.<br><br> Условно требуется:<br> - **Обязательно**, если в [agency.txt](#agencytxt) указано несколько агентств.<br> - Рекомендовано иначе. | 
 | `route_short_name| Text | **Условно обязательно** | Краткое название маршрута. Часто короткий абстрактный идентификатор (например, «32», «100X», «Зеленый»), который гонщики используют для обозначения маршрута. Могут быть определены как `route_short_name, так и `route_long_name.<br><br> Условно требуется:<br> - **Обязательно**, если `routes.route_long_name пусто.<br> - Рекомендуется, если есть краткое служебное обозначение. Это должно быть общеизвестное имя пассажира рейса, длина которого не должна превышать 12 символов. | 
 | `route_long_name| Text | **Условно обязательно** | Полное название маршрута. Это имя обычно более информативно, чем `route_short_name, и часто включает пункт назначения или остановку маршрута. Могут быть определены как `route_short_name, так и `route_long_name.<br><br> Условно требуется:<br> - **Обязательно**, если `routes.route_short_name пусто.<br> - В противном случае необязательно. | 
 | `route_desc| Text | Необязательно | Описание маршрута, дающее полезную и качественную информацию. Не должен быть дубликатом `route_short_name или `route_long_name.<hr> _Пример: поезда категории «А» курсируют между Инвуд-207-стрит, Манхэттен и Фар-Рокэвей-Мотт-авеню, Квинс, в любое время. Также примерно с 6 утра до полуночи дополнительные поезда «А» курсируют между улицей Инвуд-207 и бульваром Леффертс (поезда обычно чередуются между бульваром Леффертс и Фар-Рокавей)._ | 
 | `route_type| Перечисление | **Обязательно** | Указывает тип транспорта, используемого на маршруте. Допустимые варианты:<br><br> `0` - Трамвай, Трамвай, Легкорельсовый транспорт. Любая система легкорельсового транспорта или уличного транспорта в пределах мегаполиса.<br> `1` - Метро, ​​Метро. Любая система метрополитена в пределах мегаполиса.<br> `2` - Железнодорожный. Используется для междугородных или дальних поездок.<br> `3` - Автобус. Используется для автобусных routes ближнего и дальнего следования.<br> `4` - Паром. Используется для перевозки лодок на короткие и дальние расстояния.<br> `5` - Канатный трамвай. Используется для железнодорожных вагонов на уровне улицы, где кабель проходит под vehicle (например, канатная дорога в Сан-Франциско).<br> `6` - Канатный подъемник, подвесная канатная дорога (например, гондольный подъемник, канатная дорога). Кабельный транспорт, при котором кабины, автомобили, гондолы или открытые кресла подвешиваются с помощью одного или нескольких тросов.<br> `7` - Фуникулер. Любая железнодорожная система, предназначенная для крутых уклонов.<br> `11` - Троллейбус. Электрические автобусы, которые получают энергию от воздушных проводов с помощью столбов.<br> `12` - Монорельс. Железная дорога, путь которой состоит из одного рельса или балки. | 
 | `route_url| URL-адрес | Необязательно | URL веб-страницы о конкретном маршруте. Должно отличаться от значения agency.agency_url. | 
 | `route_color| Цвет | Необязательно | Цветовое обозначение маршрута соответствует материалу облицовки общественных мест. По умолчанию белый («FFFFFF»), если он опущен или оставлен пустым. Разница в цвете между `route_color и `route_text_color должна обеспечивать достаточный контраст при просмотре на черно-белом экране. | 
 | `route_text_color| Цвет | Необязательно | Разборчивый цвет для текста, нарисованного на фоне `route_color. По умолчанию черный цвет (`000000`), если он опущен или оставлен пустым. Разница в цвете между `route_color и `route_text_color должна обеспечивать достаточный контраст при просмотре на черно-белом экране. | 
 | `route_sort_order| Неотрицательное целое число | Необязательно | Заказывает routes таким образом, чтобы их было удобно презентовать клиентам. Маршруты с меньшими значениями `route_sort_order должны отображаться первыми. | 
 | `continuous_pickup| Перечисление | **Условно запрещено** | Указывает, что пассажир может сесть в транзитное vehicle в любой точке его пути, как описано в [shapes.txt](#shapestxt), при каждой поездке по маршруту. Допустимые варианты:<br><br> `0` — непрерывный стоп-сигнал.<br> `1` или пусто – нет непрерывного срабатывания при остановке.<br> `2` — Необходимо позвонить в agency, чтобы организовать постоянную остановку.<br> `3` — необходимо скоординировать действия с водителем, чтобы организовать постоянную остановку.<br><br> Значения для "routes.continuous_pickup" могут быть переопределены путем определения значений в "stop_times.continuous_pickup" для определенных "stop_time" на маршруте.<br><br> **Условно запрещено**:<br> - **Запрещено**, если `stop_times.start_pickup_drop_off_window или `stop_times.end_pickup_drop_off_window определены для любой поездки по этому маршруту.<br> - В противном случае необязательно. | 
 | `continuous_drop_off| Перечисление | **Условно запрещено** | Указывает, что пассажир может выйти из транзитного vehicle в любой точке пути движения транспортного средства, как описано в [shapes.txt](#shapestxt), при каждой поездке по маршруту. Допустимые варианты:<br><br> `0` — непрерывная остановка.<br> `1` или пусто — непрерывной остановки не происходит.<br> `2` - Необходимо позвонить в agency, чтобы организовать непрерывную остановку.<br> `3` — необходимо скоординировать действия с водителем, чтобы организовать непрерывную остановку.<br><br> Значения для "routes.continuous_drop_off" могут быть переопределены путем определения значений в "stop_times.continuous_drop_off" для определенных "stop_time" на маршруте.<br><br> **Условно запрещено**:<br> - **Запрещено**, если `stop_times.start_pickup_drop_off_window или `stop_times.end_pickup_drop_off_window определены для любой поездки по этому маршруту.<br> - В противном случае необязательно. | 
 | `network_id` | удостоверение личности | **Условно запрещено** | Определяет группу routes. Несколько строк в [routes.txt](#routestxt) могут иметь один и тот же `network_id.<br><br> Условно запрещено:<br> - **Запрещено**, если существует файл [route_networks.txt](#route_networkstxt).<br> - В противном случае необязательно. 
 
### trips.txt 
 
 Файл: **Обязательный** 
 
 Первичный ключ (`trip_id`) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `route_id` | Внешний идентификатор, ссылающийся на `routes.route_id| **Обязательно** | Определяет маршрут. | 
 | `service_id| Внешний идентификатор, ссылающийся на `calendar.service_id или `calendar_dates.service_id| **Обязательно** | Определяет набор дат, когда услуга доступна для одного или нескольких routes. | 
 | `trip_id` | Уникальный идентификатор | **Обязательно** | Обозначает поездку. | 
 | `trip_headsign` | Text | Необязательно | Text, который появляется на вывесках, указывает пассажирам пункт назначения поездки. Следует использовать для различения различных моделей обслуживания на одном и том же маршруте.<br><br> Если главный знак меняется во время поездки, значения для `trip_headsign могут быть переопределены путем определения значений в `stop_times.stop_headsign для конкретных `stop_time во время поездки. | 
 | `trip_short_name| Text | Необязательно | Публичный текст, используемый для обозначения поездки для пассажиров, например, для обозначения номеров поездов пригородных поездов. Если пассажиры обычно не полагаются на названия поездок, `trip_short_name должно быть пустым. Значение `trip_short_name`, если оно предоставлено, должно однозначно идентифицировать поездку в течение дня обслуживания; его не следует использовать для названий пунктов назначения или ограниченных/выраженных обозначений. | 
 | `direction_id` | Перечисление | Необязательно | Указывает направление движения для поездки. Это поле не следует использовать при маршрутизации; он дает возможность разделить поездки по направлениям при публикации расписаний. Допустимые варианты:<br><br> `0` — путешествие в одном направлении (например, выезд).<br> `1` — движение в противоположном направлении (например, прибытие).<hr> *Пример: поля `trip_headsign и `direction_id` могут использоваться вместе, чтобы назначить имя для путешествия в каждом направлении для набора поездок. Файл [trips.txt](#tripstxt) может содержать следующие записи для использования в расписаниях:*<br> `trip_id,...,trip_headsign,direction_id`<br> `1234,...,Airport,0`<br> `1505,...,Downtown,1| 
 | `block_id| удостоверение личности | Необязательно | Определяет блок, к которому принадлежит поездка. Блок состоит из одной поездки или множества последовательных поездок, совершаемых с использованием одного и того же vehicle, определяемых общими днями обслуживания и `block_id. `block_id может иметь поездки с разными днями обслуживания, образуя отдельные блоки. См. [пример ниже](#example-blocks-and-service-day). Чтобы предоставить информацию о transfers на месте, вместо этого следует предоставить [transfers](#transferstxt) `transfer_type` `4`. | 
 | `shape_id` | Внешний идентификатор, ссылающийся на `shapes.shape_id| **Условно обязательно** | Определяет геопространственную shape, описывающую путь движения vehicle во время поездки.<br><br> Условно требуется:<br> - **Обязательно**, если поездка имеет непрерывный режим посадки или высадки, определенный либо в [routes.txt](#routestxt), либо в [stop_times.txt](#stop_timestxt).<br> - В противном случае необязательно. | 
 | `wheelchair_accessible| Перечисление | Необязательно | Указывает на доступность для инвалидных колясок. Допустимые варианты:<br><br> `0` или пусто — информация о доступности для поездки отсутствует.<br> `1` – в транспортном средстве, используемом в данной поездке, может разместиться хотя бы один пассажир в инвалидной коляске.<br> `2` — в этой поездке не допускается размещение пассажиров в инвалидных колясках. | 
 | `bikes_allowed| Перечисление | Необязательно | Указывает, разрешено ли использование велосипедов. Допустимые варианты:<br><br> `0` или пусто — информация о велосипеде для поездки отсутствует.<br> `1` — в транспортном средстве, используемом в данной поездке, может разместиться как минимум один велосипед.<br> `2` – в этом путешествии велосипеды запрещены. | 
 
#### Пример: Блоки и дни обслуживания 
 
 Пример ниже действителен, с отдельными блоками для каждого дня недели. 
 
 | route_id | trip_id | service_id | block_id | <span style="font-weight:normal">*(время первой остановки)*</span> | <span style="font-weight:normal">*(время последней остановки)*</span> | 
 |----------|---------|--------------------------------|----------|-----------------------------------------|-------------------------| 
 | красный | trip_1 | пн-вт-ср-чт-пт-сб-вс | красный_петля | 22:00:00 | 22:55:00 | 
 | красный | trip_2 | пт-сб-вс | красный_петля | 23:00:00 | 23:55:00 | 
 | красный | trip_3 | пятница-суббота | красный_петля | 24:00:00 | 24:55:00 | 
 | красный | trip_4 | пн-вт-ср-чт | красный_петля | 20:00:00 | 20:50:00 | 
 | красный | trip_5 | пн-вт-ср-чт | красный_петля | 21:00:00 | 21:50:00 | 
 
 Примечания к таблице выше: 
 
 * Например, с утра по пятницу и субботу одно vehicle выполняет рейсы «trip_1», «trip_2» и «trip_3» (с 22:00 до 12:55)..Обратите внимание, что последняя поездка происходит в субботу с 12:00 до 00:55, но является частью пятничного «дня обслуживания», поскольку время — с 24:00:00 до 24:55:00. 
 * В понедельник, вторник, среду и четверг одно vehicle курсирует `trip_1, ``trip_4 и `trip_5` в блоке с 20:00 до 22:55. 
 
### stop_times.txt 
 
 Файл: **Обязательный** 
 
 Первичный ключ (`trip_id`, `stop_sequence`) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `trip_id` | Иностранный идентификатор, ссылающийся на `trips.trip_id` | **Обязательно** | Обозначает поездку. | 
 | `arrival_time| Время | **Условно обязательно** | Время прибытия на остановку (определяется параметром `stop_times.stop_id) для конкретной поездки (определяется параметром `stop_times.trip_id) в часовом поясе, указанном в `agency.agency_timezone, а не в `stops.stop_timezone.<br><br> Если на остановке нет разного времени arrival и departure, то «arrival_time» и «`departure_time`» должны быть одинаковыми.<br><br> Для времени, наступившего после полуночи в день обслуживания, введите время как значение больше 24:00:00 в формате ЧЧ:ММ:СС.<br><br> Если точное время arrival и departure (`timepoint=1` или пусто) недоступно, необходимо указать расчетное или интерполированное время arrival и departure (`timepoint=0`).<br><br> Условно требуется:<br> - **Обязателен** для первой и последней остановки в поездке (определяется параметром `stop_times.stop_sequence).<br> - **Обязательно** для `timepoint=1.<br> - **Запрещено**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно.| 
 | `departure_time` | Время | **Условно обязательно** | Время отправления от остановки (определяемой `stop_times.stop_id) для конкретной поездки (определяемой `stop_times.trip_id) в часовом поясе, указанном `agency.agency_timezone, а не `stops.stop_timezone.<br><br> Если на остановке нет разного времени arrival и departure, то «arrival_time» и «`departure_time`» должны быть одинаковыми.<br><br> Для времени, наступившего после полуночи в день обслуживания, введите время как значение больше 24:00:00 в формате ЧЧ:ММ:СС.<br><br> Если точное время arrival и departure (`timepoint=1` или пусто) недоступно, необходимо указать расчетное или интерполированное время arrival и departure (`timepoint=0`).<br><br> Условно требуется:<br> - **Обязательно** для `timepoint=1.<br> - **Запрещено**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно. | 
 | `stop_id` | Ссылка на внешний идентификатор `stops.stop_id| **Условно обязательно** | Идентифицирует обслуживаемую остановку. Все stops, обслуживаемые во время поездки, должны иметь запись в файле [stop_times.txt](#stop_timestxt). Указанные местоположения должны быть stops/платформами, т.е.их значение `stops.location_type должно быть `0` или пустым. Остановка может обслуживаться несколько раз за одну поездку, а одну и ту же остановку могут обслуживать несколько рейсов и routes .<br><br> Услуги по требованию с использованием stops следует указывать в той последовательности, в которой услуги доступны на этих stops. Потребитель данных должен предполагать, что путешествие возможно от одной остановки или места до любой остановки или места позже в поездке, при условии, что `pickup/drop_off_type каждого stop_time и временные ограничения каждого `start/end_pickup_drop_off_window не запрещают это..<br><br> Условно требуется:<br> - **Обязательно**, если `stop_times И `stop_times НЕ определены.<br> - **Запрещено**, если определены `stop_times или `stop_times. | 
 | `location_group_id` | Внешний идентификатор, ссылающийся на `location_groups.location_group_id` | **Условно запрещено** | Определяет группу обслуживаемых мест, которая указывает группы stops, где пассажиры могут запросить посадку или высадку. Все группы местоположений, обслуживаемые во время поездки, должны иметь запись в файле [stop_times.txt](#stop_timestxt). Несколько поездок и routes могут обслуживать одну и ту же группу местоположений.<br><br> Услугу по требованию с использованием групп местоположений следует указывать в той последовательности, в которой услуга доступна в этих группах местоположений. Потребитель данных должен предполагать, что путешествие возможно от одной остановки или места до любой остановки или места позже в поездке, при условии, что `pickup/drop_off_type каждого stop_time и временные ограничения каждого `start/end_pickup_drop_off_window не запрещают это..<br><br> **Условно запрещено**:<br> - **Запрещено**, если определены `stop_times.stop_id или `stop_times. | 
 | `location_id` | Внешний идентификатор, ссылающийся на `id` из `locations.geojson` | **Условно запрещено** | Определяет местоположение GeoJSON, соответствующее обслуживаемой зоне, где пассажиры могут запросить посадку или высадку. Все местоположения GeoJSON, обслуживаемые во время поездки, должны иметь запись в файле [stop_times.txt](#stop_timestxt). Несколько поездок и routes могут обслуживать одно и то же местоположение GeoJSON.<br><br> Услугу по требованию в пределах местоположения следует указывать в той последовательности, в которой услуга доступна в этих местах. Потребитель данных должен предполагать, что путешествие возможно от одной остановки или места до любой остановки или места позже в поездке, при условии, что `pickup/drop_off_type каждого stop_time и временные ограничения каждого `start/end_pickup_drop_off_window не запрещают это..<br><br> **Условно запрещено**:<br> - **Запрещено**, если определены `stop_times.stop_id или `stop_times. | 
 | `stop_sequence` | Неотрицательное целое число | **Обязательно** | Порядок stops, групп местоположений или местоположений GeoJSON для конкретной поездки. Значения должны увеличиваться по ходу поездки, но не обязательно должны быть последовательными.<hr> *Пример: первая локация в поездке может иметь `stop_sequence`= `1`, вторая локация в поездке может иметь `stop_sequence`=`23`, третья локация может иметь `stop_sequence`=`40`, и так далее.*<br><br> Для путешествия в пределах одной группы местоположений или местоположения GeoJSON требуются две записи в [stop_times.txt](#stop_timestxt) с одинаковым `location_group_id` или `location_id`. | 
 | `stop_headsign` | Text | Необязательно | Text, который появляется на вывесках, указывает пассажирам пункт назначения поездки. Это поле переопределяет значение по умолчанию trips.trip_headsign, когда передний знак меняется между stops. Если главный знак отображается на протяжении всей поездки, вместо него следует использовать trips.trip_headsign.<br><br> Значение `stop_headsign, указанное для одного `stop_time, не применяется к последующим `stop_time в той же поездке. Если вы хотите переопределить `trip_headsign для нескольких `stop_time в одной поездке, значение `stop_headsign должно repeated в каждой строке `stop_time. | 
 | `start_pickup_drop_off_window` | Время | **Условно обязательно** | Время, когда услуга по требованию становится доступной в местоположении GeoJSON, группе местоположений или остановке.<br><br> **Условно обязательно**:<br> - **Обязательно**, если определены `stop_times или `stop_times.<br> - **Обязательно**, если определено `end_pickup_drop_off_window` .<br> - **Запрещено**, если определено `arrival_time или `departure_time` .<br> - В противном случае необязательно. | 
 | `end_pickup_drop_off_window` | Время | **Условно обязательно** | Время окончания обслуживания по требованию в местоположении GeoJSON, группе местоположений или остановке.<br><br> **Условно обязательно**:<br> - **Обязательно**, если определены `stop_times или `stop_times.<br> - **Обязательно**, если определено `start_pickup_drop_off_window` .<br> - **Запрещено**, если определено `arrival_time или `departure_time` .<br> - В противном случае необязательно. | 
 | `pickup_type| Перечисление | **Условно запрещено** | Указывает способ получения. Допустимые варианты:<br><br> `0` или пусто — получение по расписанию.<br> `1` – самовывоз недоступен.<br> `2` – необходимо позвонить в agency, чтобы организовать встречу.<br> `3` – необходимо согласовать поездку с водителем, чтобы организовать трансфер.<br><br> **Условно запрещено**:<br> - `pickup_type=0` **запрещён**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - `pickup_type=3` **запрещён**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно. | 
 | `drop_off_type` | Перечисление | **Условно запрещено** | Указывает метод высадки. Допустимые варианты:<br><br> `0` или пусто – регулярная выдача по расписанию.<br> `1` – высадка невозможна.<br> `2` – необходимо позвонить в agency, чтобы договориться о высадке.<br> `3` – необходимо скоординировать действия с водителем, чтобы организовать высадку.<br><br> **Условно запрещено**:<br> - `drop_off_type=0` **запрещено**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно. | 
 | `continuous_pickup| Перечисление | **Условно запрещено** | Указывает, что пассажир может сесть в транзитное vehicle в любой точке пути движения транспортного средства, как описано в [shapes.txt](#shapestxt), от этого `stop_time до следующего `stop_time в `stop_sequence` поездки. Допустимые варианты:<br><br> `0` — непрерывный стоп-сигнал.

br> `1` или пусто — нет непрерывного срабатывания при остановке.<br> `2` — Необходимо позвонить в agency, чтобы организовать постоянную остановку.<br> `3` — необходимо скоординировать действия с водителем, чтобы организовать постоянную остановку.<br><br> Если это поле заполнено, оно переопределяет любое поведение непрерывного получения, определенное в [routes.txt](#routestxt). Если это поле пусто, `stop_time наследует любое поведение непрерывного приема, определенное в [routes.txt](#routestxt).<br><br> **Условно запрещено**:<br> - **Запрещено**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно. | 
 | `continuous_drop_off| Перечисление | **Условно запрещено** | Указывает, что пассажир может выйти из транзитного vehicle в любой точке пути движения транспортного средства, как описано в [shapes.txt](#shapestxt), от этого `stop_time до следующего `stop_time в `stop_sequence` поездки. Допустимые варианты:<br><br> `0` — непрерывная остановка.<br> `1` или пусто — непрерывной остановки не происходит.<br> `2` - Необходимо позвонить в agency, чтобы организовать непрерывную остановку.<br> `3` — необходимо скоординировать действия с водителем, чтобы организовать непрерывную остановку.<br><br> Если это поле заполнено, оно переопределяет любое поведение непрерывного отключения, определенное в [routes.txt](#routestxt). Если это поле пусто, `stop_time наследует любое поведение непрерывного отключения, определенное в [routes.txt](#routestxt).<br><br> **Условно запрещено**:<br> - **Запрещено**, если определены `start_pickup_drop_off_window` или `end_pickup_drop_off_window` .<br> - В противном случае необязательно. | 
 | `shape_dist_traveled| Неотрицательное float | Необязательно | Фактическое расстояние, пройденное вдоль связанной shape от первой остановки до остановки, указанной в этой записи. В этом поле указывается, какая часть shape должна быть нарисована между любыми двумя stops во время поездки. Должны быть в тех же единицах измерения, что и в [shapes.txt](#shapesxt). Значения, используемые для shape_dist_traveled, должны увеличиваться вместе с `stop_sequence`; их нельзя использовать для обозначения обратного движения по маршруту.<br><br> Рекомендуется для routes с петлями или врезками ( vehicle пересекает или проезжает один и тот же участок трассы за одну поездку). См. [`shapes.shape_dist_traveled`](#shapesxt).<hr> *Пример: если автобус проезжает расстояние 5,25 километра от начала shape до остановки, `shape_dist_traveled`=`5.25`.*| 
 | `timepoint| Перечисление | Рекомендуется | Указывает, строго ли время arrival и departure на остановку соблюдается vehicle или вместо этого они являются приблизительными и/или интерполированными. Это поле позволяет производителю GTFS предоставлять интерполированное время остановки, указывая при этом, что время является приблизительным. Допустимые варианты:<br><br> `0` — время считается приблизительным.<br> `1` или пусто — время считается точным. | 
 | `pickup_booking_rule_id` | Идентификатор, ссылающийся на `booking_rules.booking_rule_id` | Необязательно | Определяет правило бронирования посадки в это время остановки.<br><br> Рекомендуется, если `pickup_type=2`. | 
 | `drop_off_booking_rule_id` | Идентификатор, ссылающийся на `booking_rules.booking_rule_id` | Необязательно | Определяет правило бронирования высадки в это время остановки.<br><br> Рекомендуется, если drop_off_type=2. | 
 
#### Поведение маршрутизации услуг по требованию 
 - При обеспечении маршрутизации или времени в пути между отправной точкой и пунктом назначения потребители данных должны игнорировать промежуточные записи stop_times.txt с тем же `trip_id`, которые имеют `start_pickup_drop_off_window` и `end_pickup_drop_off_window` определен. Примеры, демонстрирующие, что следует игнорировать, см.на [странице примера данных](../examples/flex/#ignoring-intermediate-stop-times-records-with-pickupdrop-off-windows). 
 - Одновременное перекрытие геометрии locations.geojson `id`, времени `start/end_pickup_drop_off_window и `pickup_type или`drop_off_type между двумя или более записями stop_times.txt с одинаковым `trip_id` запрещено. Примеры, демонстрирующие, что запрещено, см.на [странице примеров данных](../examples/flex/#zone-overlap-constraint). 
 
### calendar.txt 
 
 Файл: **Условно обязательный** 
 
 Первичный ключ (`service_id) 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `service_id| Уникальный идентификатор | **Обязательно** | Определяет набор дат, когда услуга доступна для одного или нескольких routes. | 
 | `monday| Перечисление | **Обязательно** | Указывает, работает ли служба по всем понедельникам в диапазоне date, указанном в полях `start_date` и end_date. Обратите внимание, что исключения для определенных дат могут быть указаны в [calendar_dates.txt](#calendar_datestxt). Допустимые варианты:<br><br> `1` — услуга доступна по всем понедельникам в указанном диапазоне date .<br> `0` — услуга недоступна по понедельникам в указанном диапазоне date. | 
 | `tuesday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением вторника | 
 | `wednesday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением среды | 
 | `thursday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением четверга | 
 | `friday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением пятницы | 
 | `saturday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением субботы. | 
 | `sunday| Перечисление | **Обязательно** | Функционирует так же, как `monday, за исключением воскресенья. | 
 | `start_date` | Дата | **Обязательно** | Начало сервисного дня для интервала обслуживания. | 
 | `end_date| Дата | **Обязательно** | День окончания сервисного интервала. Этот сервисный день включен в интервал. | 
 
### calendar_dates.txt 
 
 Файл: **Условно обязательный** 
 
 Первичный ключ (`service_id`, `date`) 
 
 [calendar_dates.txt](#calendar_datestxt ) таблица явно активирует или отключает услугу по date. Его можно использовать двумя способами. 
 
 * Рекомендуется: используйте [calendar_dates.txt](#calendar_datestxt) в сочетании с [calendar.txt](#calendartxt) для определения исключений из шаблонов обслуживания по умолчанию, определенных в [calendar.txt](#calendartxt). Если обслуживание в целом регулярное, с небольшими изменениями в определенные даты (например, для обслуживания специальных мероприятий или школьного расписания), это хороший подход. В этом случае «calendar_dates.service_id» является внешним идентификатором, ссылающимся на «calendar.service_id». 
 * Альтернативный вариант: опустить [calendar.txt](#calendartxt) и указать каждую date обслуживания в [calendar_dates.txt](#calendar_datestxt). Это позволяет значительно варьировать услуги и обеспечивает обслуживание без обычных еженедельных графиков. В данном случае `service_id— это идентификатор. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `service_id| Внешний идентификатор, ссылающийся на `calendar.service_id или ID | **Обязательно** | Определяет набор дат, когда возникает исключение службы для одного или нескольких routes. Каждая пара (`service_id, `date) может появиться только один раз в [calendar_dates.txt](#calendar_datestxt) при совместном использовании [calendar.txt](#calendartxt) и [calendar_dates.txt](#calendar_datestxt). Если значение `service_id появляется как в [calendar.txt](#calendartxt), так и в [calendar_dates.txt](#calendar_datestxt), информация в [calendar_dates.txt](#calendar_datestxt) изменяет служебную информацию, указанную в [calendar.txt](#calendartxt). | 
 | `date| Дата | **Обязательно** | Дата возникновения исключения службы. | 
 | `exception_type| Перечисление | **Обязательно** | Указывает, доступна ли услуга на date, указанную в поле date. Допустимые варианты:<br><br> `1` — Услуга добавлена ​​на указанную date.<br> `2` — Услуга удалена на указанную date.<hr> *Пример: предположим, что на маршруте есть один набор поездок, доступных в праздничные дни, и другой набор поездок, доступных во все остальные дни. Один `service_id может соответствовать обычному графику обслуживания, а другой `service_id может соответствовать графику выходных. Для конкретного праздника файл [calendar_dates.txt](#calendar_datestxt) можно использовать для добавления праздника к празднику `service_id и для удаления праздника из обычного расписания `service_id.* | 
 
### fare_attributes.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`fare_id`) 
 
 **Версии**<br> 
 Существует два варианта моделирования описания тарифов. GTFS– Fares V1 — это устаревший вариант описания минимальной информации о тарифах. GTFS– Fares V2 – это обновленный метод, позволяющий более подробно учитывать структуру тарифов агентства. Оба метода могут присутствовать в наборе данных, но потребитель данных должен использовать только один метод для данного набора данных. Рекомендуется, чтобы GTFS- Fares V2 имел приоритет над GTFS- Fares V1.<br><br> Файлы, связанные с GTFS- Fares V1 :<br> - [fare_attributes.txt](#fare_attributestxt)<br> - [fare_rules.txt](#fare_rulestxt)<br><br> Файлы, связанные с GTFS- Fares V2 :<br> - [fare_media.txt](#fare_mediatxt)<br> - [fare_products.txt](#fare_productstxt)<br> - [fare_leg_rules.txt](#fare_leg_rulestxt)<br> - [fare_transfer_rules.txt](#fare_transfer_rulestxt) 
 
<br> 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `fare_id| Уникальный идентификатор | **Обязательно** | Определяет класс тарифа. | 
 | `price| Неотрицательное float | **Обязательно** | price тарифа в единицах, указанных в параметре «currency_type». | 
 | `currency_type| Код валюты | **Обязательно** | Валюта, используемая для оплаты проезда. | 
 | `payment_method| Перечисление | **Обязательно** | Указывает, когда необходимо оплатить проезд. Допустимые варианты:<br><br> `0` - Проезд оплачивается на борту.<br> `1` — стоимость проезда должна быть оплачена до посадки. | 
 | `transfers| Перечисление | **Обязательно** | Указывает количество transfers, разрешенных по данному тарифу. Допустимые варианты:<br><br> `0` — по этому тарифу transfers не разрешены.<br> `1` — гонщики могут совершить трансфер один раз.<br> `2` — гонщики могут пересаживаться дважды.<br> пусто — разрешено неограниченное transfers. | 
 | `agency_id| Иностранный идентификатор, ссылающийся на `agency.agency_id| **Условно обязательно** | Определяет соответствующее agency для тарифа.<br><br> Условно требуется:<br> - **Обязательно**, если в [agency.txt](#agencytxt) указано несколько агентств.<br> - Рекомендовано иначе. | 
 | `transfer_duration| Неотрицательное целое число | Необязательно | Промежуток времени в секундах до истечения срока действия передачи. Когда `transfers`=`0`, это поле можно использовать для указания срока действия билета или его можно оставить пустым. | 
 
### fare_rules.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`*`) 
 
 В таблице [fare_rules.txt](#fare_rulestxt) указаны тарифы в [fare_attributes.txt](#fare_attributestxt) применяются к маршруту. В большинстве структур тарифов используется комбинация следующих правил: 
 
 * Стоимость проезда зависит от станции отправления или назначения. 
 * Стоимость проезда зависит от того, через какие зоны проходит маршрут. 
 * Стоимость проезда зависит от маршрута маршрута. 
 
 Примеры, демонстрирующие, как указать структуру тарифа с помощью [fare_rules.txt](#fare_rulestxt) и [fare_attributes.txt](#fare_attributestxt), см.в [FareExamples](https://web.archive.org/web/20111207224351/https://code.google.com/p/googletransitdatafeed/wiki/FareExamples) в вики-проекте с открытым исходным кодом GoogleTransitDataFeed. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `fare_id| Внешний идентификатор, ссылающийся на `fare_attributes.fare_id| **Обязательно** | Определяет класс тарифа. | 
 | `route_id` | Внешний идентификатор, ссылающийся на `routes.route_id| Необязательно | Идентифицирует маршрут, связанный с классом тарифа. Если существует несколько routes с одинаковыми атрибутами тарифа, создайте запись в [fare_rules.txt](#fare_rulestxt) для каждого маршрута.<hr> *Пример: если класс тарифа «b» действителен на маршрутах «TSW» и «TSE», файл [fare_rules.txt](#fare_rulestxt) будет содержать следующие записи для класса тарифа:*<br> ` fare_id,route_id`<br> `b,TSW`<br> `b,TSE`| 
 | `origin_id| Ссылка на внешний идентификатор `stops.zone_id| Необязательно | Определяет зону происхождения. Если класс тарифа имеет несколько исходных зон, создайте запись в [fare_rules.txt](#fare_rulestxt) для каждой `origin_id`.<hr> *Пример: если класс тарифа «b» действителен для всех поездок, совершаемых из зоны «2» или зоны «8», файл [fare_rules.txt](#fare_rulestxt) будет содержать следующие записи для класса тарифа:*<br> `fare_id,...,origin_id`<br> `b,...,2`<br> `b,...,8` | 
 | `destination_id| Ссылка на внешний идентификатор `stops.zone_id| Необязательно | Определяет зону назначения. Если класс тарифа имеет несколько зон назначения, создайте запись в [fare_rules.txt](#fare_rulestxt) для каждой destination_id.<hr> *Пример: поля `origin_id и `destination_id можно использовать вместе, чтобы указать, что класс тарифа "b" действителен для поездок между зонами 3 и 4, а для поездок между зонами 3 и 5 файл [fare_rules.txt](#fare_rulestxt) будет содержать следующие записи для класса тарифа:*<br> `fare_id,...,origin_id,destination_id`<br> `b,...,3,4`<br> `b,...,3,5` | 
 | `contains_id` | Ссылка на внешний идентификатор `stops.zone_id| Необязательно | Определяет зоны, в которые пассажир будет въезжать при использовании данного класса тарифа. Используется в некоторых системах для расчета правильного класса тарифа.<hr> *Пример: если класс тарифа «c» связан со всеми поездками по маршруту GRT, проходящим через зоны 5, 6 и 7, [fare_rules.txt](#fare_rulestxt) будет содержать следующие записи:*<br> `fare_id,route_id,...,contains_id`<br> `c,GRT,...,5`<br> `c,GRT,...,6`<br> `c,GRT,...,7`<br> *Поскольку для применения тарифа все зоны `contains_id должны совпадать, маршрут, проходящий через зоны 5 и 6, но не через зону 7, не будет иметь класс тарифа "c". Более подробную информацию см.в [https://code.google.com/p/googletransitdatafeed/wiki/FareExamples](https://code.google.com/p/googletransitdatafeed/wiki/FareExamples) в вики проекта GoogleTransitDataFeed*. | 
 
### timeframes.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`*`) 
 
 Используется для описания тарифов, которые могут меняться в зависимости от времени суток, день недели или конкретный день в году. Временные рамки можно связать с тарифными продуктами в [fare_leg_rules.txt](#fare_leg_rulestxt).<br> 
 Не должно быть перекрывающихся временных интервалов для одних и тех же значений `timeframe_group_id и `service_id. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `timeframe_group_id` | удостоверение личности | **Обязательно** | Определяет таймфрейм или набор таймфреймов. | 
 | `start_time` | Время | **Условно обязательно** | Определяет начало периода времени. Интервал включает в себя время начала.<br> Значения больше «24:00:00» запрещены. Пустое значение в `start_time` считается `00:00:00`.<br><br> Условно требуется:<br> - **Обязательно**, если определено `timeframes.end_time.<br> - **Запрещено** в противном случае | 
 | `end_time| Время | **Условно обязательно** | Определяет конец временного интервала. Интервал не включает время окончания.<br> Значения больше «24:00:00» запрещены. Пустое значение в `end_time считается `24:00:00`.<br><br> Условно требуется:<br> - **Обязательно**, если определено `timeframes.start_time.<br> - **Запрещено** в противном случае | 
 | `service_id| Внешний идентификатор, ссылающийся на `calendar.service_id или `calendar_dates.service_id| **Обязательно** | Определяет набор дат, в течение которых действует временной интервал. | 
 
#### Семантика местного времени Timeframe- При оценке времени события тарифа по [timeframes.txt](#timeframestxt) время события вычисляется по местному времени с использованием местного часового пояса, как определено параметром `stop_timezone`, если указано, остановки или родительской станции для события тарифа. Если он не указан, вместо него следует использовать часовой пояс agency фида. 
 - «Текущий день» — это текущая date и время тарифного события, рассчитанная относительно местного часового пояса. «Текущий день» может отличаться от дня обслуживания поездки на определенном участке тарифа, особенно для поездок, продолжающихся после полуночи. 
 - «Время суток» для тарифного события вычисляется относительно «текущего дня» с использованием семантики типа поля «Время» GTFS. 
 
### Fare_media.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`fare_media_id`) 
 
 Для описания различных носителей тарифов, которые можно использовать для использования тарифных продуктов. Носители тарифа — это физические или виртуальные держатели, используемые для представления и/или проверки тарифного продукта. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `fare_media_id| Уникальный идентификатор | **Обязательно** | Идентифицирует тарифный носитель. | 
 | `fare_media_name` | Text | Необязательно | Название носителя тарифа.<br><br> Для носителей тарифа, которые представляют собой транспортные карты (`fare_media_type =2`) или мобильные приложения (`fare_media_type =4`), должно быть включено `fare_media_name` и оно должно совпадать с именем, обращенным к пассажиру, используемым организациями, доставляющими их. | 
 | `fare_media_type` | Перечисление | **Обязательно** | Тип носителя тарифа. Допустимые варианты:<br><br> `0` – нет. Используется, когда при покупке или подтверждении тарифного продукта не участвует какой-либо носитель тарифа, например, при оплате наличными водителю или кондуктору без предъявления физического билета.<br> `1` — физический бумажный билет, который позволяет пассажиру совершить либо определенное количество заранее оплаченных поездок, либо неограниченное количество поездок в течение фиксированного периода времени.<br> `2` — физическая транспортная карта, на которой хранятся билеты, пропуска или денежная стоимость.<br> `3` — cEMV (бесконтактные Europay, Mastercard и Visa) в качестве контейнера токенов открытого цикла для продажи билетов на основе учетной записи.<br> `4` — мобильное приложение, в котором хранятся виртуальные транспортные карты, билеты, проездные или денежная стоимость.| 
 
### fare_products.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`fare_product_id`, `fare_media_id`) 
 
 Используется для описания диапазона тарифов, доступных для покупки пассажирами или учитываются при расчете общей стоимости проезда для поездок с несколькими этапами, например, стоимость трансфера. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `fare_product_id` | удостоверение личности | **Обязательно** | Идентифицирует тарифный продукт или набор тарифных продуктов.<br><br> Несколько записей в [fare_products.txt](#fare_productstxt) могут использовать один и тот же `fare_product_id, и в этом случае все записи с этим идентификатором будут получены при ссылке из другого файла.<br><br> Несколько записей могут использовать один и тот же `fare_product_id, но разные `fare_media_id, что указывает на различные методы, доступные для использования тарифного продукта, возможно, по разным ценам. | 
 | `fare_product_name| Text | Необязательно | Название тарифного продукта, отображаемое пассажирам. | 
 | `fare_media_id| Внешний идентификатор, ссылающийся на `fare_media.fare_media_id| Необязательно | Определяет носитель тарифа, который можно использовать для использования тарифного продукта во время поездки. Когда `fare_media_id пуст, считается, что носитель тарифа неизвестен.| 
 | `amount| amount валюты | **Обязательно** | Стоимость тарифного продукта. Может быть отрицательным для обозначения трансферных скидок. Может быть нулевым для обозначения бесплатного тарифного продукта. | 
 | `currency| Код валюты | **Обязательно** | currency стоимости тарифного продукта. | 
 
 
### fare_leg_rules.txt 
 
 Файл: **Необязательный** 
 
 Первичный ключ (`network_id, from_area_id, to_area_id, from_timeframe_group_id, to_timeframe_group_id, fare_product_id`) 
 
 Правила тарифа для отдельных этапов путешествия. 
 
 Тарифы в [`fare_leg_rules.txt`](#fare_leg_rulestxt) необходимо запрашивать путем фильтрации всех записей в файле, чтобы найти правила, соответствующие участку, который должен проехать пассажир. 
 
 Для обработки стоимости участка: 
 
 1. Файл [fare_leg_rules.txt](#fare_leg_rulestxt) необходимо отфильтровать по полям, определяющим характеристики путешествия, эти поля: 
 - `fare_leg_rules.network_id` 
 - `fare_leg_rules.from_area_id` 
 - `fare_leg_rules.to_area_id` 
 - `fare_leg_rules.from_timeframe_group_id` 
 - `fare_leg_rules.to_timeframe_group_id` 
<br/> 
 
 2. Если этап точно соответствует записи в [fare_leg_rules.txt](#fare_leg_rulestxt) на основании характеристик путешествия, эта запись должна быть обработана для определения стоимости участка. Этот файл обрабатывает пустые записи двумя способами: пустая семантика ИЛИ rule_priority. 
<br/> 
 
 3. Если точных совпадений не обнаружено И поле `rule_priority` не существует, то для обработки поля необходимо проверить пустые записи в `fare_leg_rules.network_id, `fare_leg_rules.from_area_id и `fare_leg_rules.to_area_id.стоимость участка: 
 - Пустая запись в `fare_leg_rules.network_id соответствует всем сетям, определенным в [routes.txt](#routestxt) или [networks.txt](#networkstxt), за исключением тех, которые перечислены в `fare_leg_rules.network_id` 
 
 - Пустая запись в `fare_leg_rules.from_area_id соответствует всем областям, определенным в `areas.area_id, за исключением тех, которые перечислены в `fare_leg_rules.from_area_id` 
 - Пустая запись в `fare_leg_rules.to_area_id соответствует ко всем областям, определенным в `areas.area_id, за исключением тех, которые перечислены в `fare_leg_rules.to_area_id 
<br/> 
 
 4. Если поле `rule_priority` существует, то 
 - Пустая запись в `fare_leg_rules.network_id указывает, что сеть участка не влияет на соответствие этому правилу. 
 — Пустая запись в `fare_leg_rules.from_area_id указывает, что зона departure участка не влияет на соответствие этому правилу. 
 - Пустая запись в `fare_leg_rules.to_area_id указывает, что зона arrival участка не влияет на соответствие этому правилу. 
<br/> 
 
 5. Если участок не соответствует ни одному из описанных выше правил, то стоимость проезда неизвестна. 
 
<br/> 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `leg_group_id` | удостоверение личности | Необязательно | Идентифицирует группу записей в [fare_leg_rules.txt](#fare_leg_rulestxt).<br><br> Используется для описания правил переноса тарифов между `fare_transfer_rules.from_leg_group_id и `fare_transfer_rules.to_leg_group_id.<br><br> Несколько записей в файле [fare_leg_rules.txt](#fare_leg_rulestxt) могут принадлежать одному и тому же `fare_leg_rules.leg_group_id.<br><br> Одна и та же запись в [fare_leg_rules.txt](#fare_leg_rulestxt) (не включая `fare_leg_rules.leg_group_id) не должна принадлежать нескольким `fare_leg_rules.leg_group_id.| 
 | `network_id` | Внешний идентификатор, ссылающийся на `routes.network_id или `networks.network_id| Необязательно | Идентифицирует сеть маршрутов, к которой применяется правило участка тарифа.<br><br> Если поле `rule_priority` не существует И нет соответствующих значений `fare_leg_rules.network_id для фильтруемого `network_id, по умолчанию будет сопоставлено пустое `fare_leg_rules.network_id.<br><br> Пустая запись в `fare_leg_rules.network_id соответствует всем сетям, определенным в [routes.txt](#routestxt) или [networks.txt](#networkstxt), за исключением тех, которые перечислены в `fare_leg_rules.network_id<br><br> Если в файле существует поле `rule_priority`, пустое `fare_leg_rules.network_id указывает, что сеть маршрутов участка не влияет на соответствие этому правилу. | 
 | `from_area_id` | Внешний идентификатор, ссылающийся на `areas.area_id| Необязательно | Определяет зону departure .<br><br> Если поле `rule_priority` не существует И нет соответствующих значений `fare_leg_rules.from_area_id для фильтруемого `area_id, пустое `fare_leg_rules.from_area_id будет сопоставлено по умолчанию.<br><br> Пустая запись в `fare_leg_rules.from_area_id соответствует всем областям, определенным в `areas.area_id, за исключением тех, которые перечислены в `fare_leg_rules.from_area_id<br><br> Если в файле существует поле `rule_priority`, пустое `fare_leg_rules.from_area_id указывает, что зона departure участка не влияет на соответствие этому правилу. | 
 | `to_area_id| Внешний идентификатор, ссылающийся на `areas.area_id| Необязательно | Обозначает зону arrival .<br><br> Если поле `rule_priority` не существует И нет соответствующих значений `fare_leg_rules.to_area_id для фильтруемого `area_id, пустое `fare_leg_rules.to_area_id будет сопоставлено по умолчанию.<br><br> Пустая запись в `fare_leg_rules.to_area_id соответствует всем областям, определенным в `areas.area_id, за исключением тех, которые перечислены в `fare_leg_rules.to_area_id<br><br> Если в файле существует поле `rule_priority`, пустое `fare_leg_rules.to_area_id указывает, что зона arrival участка не влияет на соответствие этому правилу. | 
 | `from_timeframe_group_id` | Внешний идентификатор, ссылающийся на `timeframes.timeframe_group_id| Необязательно | Определяет временные рамки для события проверки тарифа в начале участка тарифа.<br><br> «Время начала» этапа тарифа — это время, в которое запланировано событие. Например, это время может быть запланированным временем departure автобуса в начале участка проезда, на котором пассажир садится и подтверждает свой тариф. Для приведенной ниже семантики сопоставления правил время начала вычисляется по местному времени, как определено [Семантикой локального времени](#timeframe-local-time-semantics) из [.txt](#timeframestxt). Остановку или станцию ​​departure на участке тарифа следует использовать для определения часового пояса, где это возможно.<br><br> Для правила участка тарифа, в котором указан `from_timeframe_group_id, это правило будет соответствовать определенному этапу, если t

существует хотя бы одна запись в [.txt](#timeframestxt), где все следующие условия верны<br> - Значение `timeframe_group_id равно значению `from_timeframe_group_id.<br> - Набор дней, определенный атрибутом `service_id записи, содержит «текущий день» времени начала этапа тарифа.<br> - «Время дня» начала этапа тарифа больше или равно значению записи `timeframes.start_time и меньше значения `timeframes.end_time`.<br><br> Пустое `fare_leg_rules.from_timeframe_group_id указывает, что время начала этапа не влияет на соответствие этому правилу. | 
 | `to_timeframe_group_id` | Внешний идентификатор, ссылающийся на `timeframes.timeframe_group_id| Необязательно | Определяет временные рамки события проверки тарифа в конце участка тарифа.<br><br> «Время окончания» этапа тарифа — это время, в которое запланировано событие. Например, это время может быть запланированным временем arrival автобуса в конце участка проезда, где пассажир выходит и подтверждает свой тариф. Для приведенной ниже семантики сопоставления правил время окончания вычисляется по местному времени, как определено [Семантикой локального времени](#timeframe-local-time-semantics) из [timeframes.txt](#timeframestxt). Остановку или станцию ​​arrival на участке тарифа следует использовать для определения часового пояса, где это возможно.<br><br> Для правила этапа тарифа, в котором указан `to_timeframe_group_id`, это правило будет соответствовать определенному этапу, если существует хотя бы одна запись в [timeframes.txt](#timeframestxt), где все следующие условия верны.<br> - Значение `timeframe_group_id равно значению `to_timeframe_group_id.<br> - Набор дней, определенный атрибутом `service_id записи, содержит «текущий день» времени окончания этапа тарифа.<br> - «Время дня» конечного времени сегмента тарифа больше или равно значению записи `timeframes.start_time и меньше значения `timeframes.end_time`.<br><br> Пустое `fare_leg_rules.to_timeframe_group_id указывает, что время окончания этапа не влияет на соответствие этому правилу. | 
 | `fare_product_id` | Иностранный идентификатор, ссылающийся на `fare_products.fare_product_id| **Обязательно** | Тарифный продукт, необходимый для прохождения данного участка. | 
 | `правило_приоритет` | Неотрицательное целое число | Необязательно | Определяет порядок приоритета, в котором правила сопоставления применяются к ветвям, позволяя одним правилам иметь приоритет над другими. Если несколько записей в `fare_leg_rules.txt совпадают, будет выбрано правило или набор правил с самым высоким значением `rule_priority`.<br><br> Пустое значение для Rule_priority рассматривается как ноль. | 
 
### fare_transfer_rules.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`from_leg_group_id, to_leg_group_id, fare_product_id, transfer_count, duration_limit`) 
 
 Правила тарифа для transfers между этапами поездки, определенной в [`fare_leg_rules.txt](#fare_leg_rulestxt). 
 
 Для обработки стоимости поездки с несколькими этапами: 
 
 1. Применимые группы этапов тарифа, определенные в `fare_leg_rules.txt, должны быть определены для всех отдельных этапов путешествия на основе поездки пассажира. 
 2. Файл [fare_transfer_rules.txt](#fare_transfer_rulestxt) необходимо отфильтровать по полям, определяющим характеристики перевода, эти поля: 
 - `fare_transfer_rules.from_leg_group_id- `fare_transfer_rules.to_leg_group_id<br/> 
<br/> 
 
 3. Если перевод точно соответствует записи в [fare_transfer_rules.txt](#fare_transfer_rulestxt) на основании характеристик перевода, то эту запись необходимо обработать для определения стоимости перевода. 
 4. Если точных совпадений не обнаружено, то для обработки стоимости перевода необходимо проверить пустые записи в `from_leg_group_id или в `to_leg_group_id: 
 - Пустая запись в `fare_transfer_rules.from_leg_group_id соответствует всем определенным группам ног.в `fare_leg_rules.leg_group_id, за исключением тех, которые перечислены в `fare_transfer_rules.from_leg_group_id- Пустая запись в `fare_transfer_rules.to_leg_group_id соответствует всем группам ног, определенным в `fare_leg_rules.leg_group_id, за исключением тех, которые перечислены в `fare_transfer_rules.to_leg_group_id<br/> 
<br/> 
 5. Если трансфер не соответствует ни одному из описанных выше правил, то трансферная договоренность отсутствует и ветки считаются отдельными. 
 
<br/> 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `from_leg_group_id` | Ссылка на внешний идентификатор `fare_leg_rules.leg_group_id| Необязательно | Определяет группу правил сегмента тарифа перед трансфером.<br><br> Если нет соответствующих значений `fare_transfer_rules.from_leg_group_id для фильтруемого `leg_group_id, по умолчанию будет сопоставлено пустое `fare_transfer_rules.from_leg_group_id.<br><br> Пустая запись в `fare_transfer_rules.from_leg_group_id соответствует всем группам ног, определенным в `fare_leg_rules.leg_group_id, за исключением тех, которые перечислены в `fare_transfer_rules.from_leg_group_id| 
 | `to_leg_group_id` | Ссылка на внешний идентификатор `fare_leg_rules.leg_group_id| Необязательно | Определяет группу правил сегмента тарифа после трансфера.<br><br> Если нет соответствующих значений `fare_transfer_rules.to_leg_group_id для фильтруемого `leg_group_id, по умолчанию будет сопоставлено пустое `fare_transfer_rules.to_leg_group_id.<br><br> Пустая запись в `fare_transfer_rules.to_leg_group_id соответствует всем группам ног, определенным в `fare_leg_rules.leg_group_id, за исключением тех, которые перечислены в `fare_transfer_rules.to_leg_group_id| 
 | `transfer_count| Ненулевое целое число | **Условно запрещено** | Определяет, к скольким последовательным transfers может применяться правило передачи.<br><br> Допустимые варианты:<br> `-1` - Без ограничений.<br> `1` или более – определяет, сколько transfers может охватывать правило передачи.<br><br> Если подпутешествие соответствует нескольким записям с разными значениями `transfer_count, то должно быть выбрано правило с минимальным `transfer_count, которое больше или равно текущему количеству перемещений подпутешествия.<br><br> Условно запрещено:<br> - **Запрещено**, если `fare_transfer_rules.from_leg_group_id не равно `fare_transfer_rules.to_leg_group_id.<br> - **Обязательный**, если `fare_transfer_rules.from_leg_group_id равен `fare_transfer_rules.to_leg_group_id. | 
 | `duration_limit| Положительное целое число | Необязательно | Определяет ограничение продолжительности передачи.<br><br> Должно быть выражено в целых числах секунд.<br><br> Если ограничения продолжительности нет, `fare_transfer_rules.duration_limit должно быть пустым. | 
 | `duration_limit_type` | Перечисление | **Условно обязательно** | Определяет относительное начало и конец `fare_transfer_rules.duration_limit.<br><br> Допустимые варианты:<br> `0` — между проверкой тарифа departure текущего этапа и проверкой тарифа arrival следующего этапа.<br> `1` - между подтверждением тарифа departure текущего этапа и подтверждением тарифа departure следующего этапа.<br> `2` — между подтверждением тарифа arrival текущего этапа и подтверждением тарифа departure следующего этапа.<br> `3` - между подтверждением тарифа arrival текущего этапа и подтверждением тарифа arrival следующего этапа.<br><br> Условно требуется:<br> - **Обязательно**, если определено `fare_transfer_rules.duration_limit.<br> - **Запрещено**, если `fare_transfer_rules.duration_limit пусто. | 
 | `fare_transfer_type` | Перечисление | **Обязательно** | Указывает способ обработки стоимости пересадки между этапами путешествия:<br> ![](../../assets/2-leg.svg)<br> Допустимые варианты:<br> `0` - From-leg `fare_leg_rules.fare_product_id плюс `fare_transfer_rules.fare_product_id; А + АВ.<br> `1` — от участка `fare_leg_rules.fare_product_id плюс `fare_transfer_rules.fare_product_id плюс к переходу `fare_leg_rules.fare_product_id; А + АВ + Б.<br> `2` - `fare_transfer_rules.fare_product_id`; АБ.<br><br> Взаимодействие обработки затрат между несколькими transfers в поездке:<br> ![](../../assets/3-leg.svg)<br><table><thead><tr><th> `fare_transfer_type`</th><th> Обработка А > Б</th><th> Обработка Б > С</th></tr></thead><tbody><tr><td> `0`</td><td> А + АВ</td><td> С + БК</td></tr><tr><td> `1`</td><td> А + АВ + В</td><td> С + БК + С</td></tr><tr><td> `2`</td><td> АБ</td><td> С + БК</td></tr></tbody></table> Где S указывает общую стоимость обработки предыдущего этапа(ов) и перевода(ов). | 
 | `fare_product_id` | Иностранный идентификатор, ссылающийся на `fare_products.fare_product_id| Необязательно | Тарифный продукт, необходимый для перехода между двумя сегментами тарифа. Если пусто, стоимость правила передачи равна 0.| 
 
 
### areas.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`area_id) 
 
 Определяет идентификаторы областей. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `area_id| Уникальный идентификатор | **Обязательно** | Определяет область. Должно быть уникальным в [areas.txt](#areastxt). | 
 | `area_name| Text | **Необязательно** | Название области, отображаемое гонщику. | 
 
### stop_areas.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`*`) 
 
 Назначает stops из [stops.txt](#stopstxt) областям. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `area_id| Внешний идентификатор, ссылающийся на `areas.area_id| **Обязательно** | Идентифицирует область, к которой принадлежит один или несколько `stop_id`. Один и тот же `stop_id` может быть определен во многих `area_id. | 
 | `stop_id` | Ссылка на внешний идентификатор `stops.stop_id| **Обязательно** | Обозначает остановку. Если в этом поле определена станция (т.е.остановка с `stops.location_type=1), предполагается, что все ее платформы (т.е.все stops с `stops.location_type=0, для которых эта станция определена как `stops.parent_station) являются частью одной области. Это поведение можно изменить, назначив платформы другим областям. | 
 
### network.txt 
 
 Файл: **Условно запрещено** 
 
 Первичный ключ (`network_id`) 
 
 Определяет идентификаторы сети, которые применяются к правилам сегмента тарифа. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `network_id` | Уникальный идентификатор | **Обязательно** | Идентифицирует сеть. Должно быть уникальным в [.txt](#networkstxt). | 
 | `network_name| Text | **Необязательно** | Название сети, к которой применяются правила сегмента тарифа, используемое местным agency и его пассажирами. 
 
###route_networks.txt 
 
 Файл: **Условно запрещено** 
 
 Первичный ключ (`route_id`) 
 
 Назначает routes из [routes.txt](#routestxt) в сети. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `network_id` | Внешний идентификатор, ссылающийся на `networks.network_id| **Обязательно** | Идентифицирует сеть, к которой принадлежит один или несколько `route_id`. «`route_id`» может быть определен только в одном «network_id». | 
 | `route_id` | Внешний идентификатор, ссылающийся на `routes.route_id| **Обязательно** | Определяет маршрут. | 
 
### shapes.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`shape_id`, `shape_pt_sequence`) 
 
 Фигуры описывают путь, по которому движется vehicle выравнивание маршрута и определены в файле shapes.txt. Фигуры связаны с поездками и состоят из последовательности точек, через которые vehicle проезжает по порядку. Фигуры не обязательно должны точно перехватывать расположение Остановок, но все Остановки в поездке должны находиться на небольшом расстоянии от shape для этой поездки, т.е.рядом с отрезками прямых линий, соединяющими точки shape. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `shape_id` | удостоверение личности | **Обязательно** | Определяет shape. | 
 | `shape_pt_lat` | Широта | **Обязательно** | Широта точки shape. Каждая запись в [shapes.txt](#shapestxt) представляет точку shape, используемую для определения shape. | 
 | `shape_pt_lon` | Долгота | **Обязательно** | Долгота точки shape. | 
 | `shape_pt_sequence| Неотрицательное целое число | **Обязательно** | Последовательность, в которой точки shape соединяются, образуя shape. Значения должны увеличиваться по ходу поездки, но не обязательно должны быть последовательными.<hr> *Пример: если в определении shape «A_shp» есть три точки, файл [shapes.txt](#shapestxt) может содержать эти записи для определения shape:*<br> `shape_id,shape_pt_lat,shape_pt_lon,shape_pt_sequence`<br> `A_shp,37.61956,-122.48161,0`<br> `A_shp,37.64430,-122.41070,6<br> `A_shp,37.65863,-122.30839,11| 
 | `shape_dist_traveled| Неотрицательное float | Необязательно | Фактическое расстояние, пройденное по shape от первой точки shape до точки, указанной в этой записи. Используется планировщиками поездок для отображения правильной части shape на карте. Значения должны увеличиваться вместе с shape_pt_sequence; их нельзя использовать для обозначения обратного движения по маршруту. Единицы измерения расстояния должны соответствовать тем, которые используются в [stop_times.txt](#stop_timestxt).<br><br> Рекомендуется для routes с петлями или врезками ( vehicle пересекает или проезжает один и тот же участок трассы за одну поездку). <br><img src="../../../assets/inlining.svg" width=200px style="display: block; margin-left: auto; margin-right: auto;"><br> Если vehicle повторяет или пересекает трассу маршрута в точках во время поездки, `shape_dist_traveled важен для уточнения того, как части точек в [shapes.txt](#shapestxt) выстраиваются в линию с записями в [stop_times.txt](#stop_timestxt).<hr> *Пример: если автобус движется по трем точкам, определенным выше для A_shp, дополнительные значения shape_dist_traveled(показаны здесь в километрах) будут выглядеть следующим образом:*<br> `shape_id,shape_pt_lat,shape_pt_lon,shape_pt_sequence,shape_dist_traveled`<br> `A_shp,37.61956,-122.48161,0,0`<br> `A_shp,37.64430,-122.41070,6,6.8310<br> `A_shp,37.65863,-122.30839,11,15.8765` | 
 
### frequencies.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`trip_id`, `start_time`) 
 
 [Частоты.txt](#frequencystxt) представляет рейсы, курсирующие с регулярным интервалом (время между рейсами). Этот файл может использоваться для представления двух разных типов услуг. 
 
 * Услуга на основе частоты (`exact_times`=`0`), при которой услуга не следует фиксированному расписанию в течение дня. Вместо этого операторы стараются строго соблюдать заданные интервалы рейсов. 
 * Сжатое представление услуги на основе расписания (`exact_times`= `1`), которая имеет одинаковый интервал для поездок в течение определенного периода времени. При плановом обслуживании операторы стараются строго придерживаться графика. 
 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `trip_id` | Иностранный идентификатор, ссылающийся на `trips.trip_id` | **Обязательно** | Обозначает поездку, к которой применяется указанный интервал обслуживания. | 
 | `start_time` | Время | **Обязательно** | Время, в которое первое vehicle отправится с первой остановки рейса с указанным интервалом. | 
 | `end_time| Время | **Обязательно** | Время, в которое движение меняется на другой интервал (или прекращается) на первой остановке рейса. | 
 | `headway_secs` | Положительное целое число | **Обязательно** | Время в секундах между отправлениями с одной и той же остановки (пути) поездки в течение интервала времени, указанного `start_time` и `end_time. Для одного рейса можно определить несколько интервалов, но они не должны перекрываться. Новые интервалы могут начаться точно в то же время, когда заканчивается предыдущий. | 
 | `exact_times` | Перечисление | Необязательно | Указывает тип услуги для поездки. Дополнительную информацию смотрите в описании файла. Допустимые варианты:<br><br> `0` или пусто — отключения по частоте.<br> `1` — поездки по расписанию с одинаковым интервалом в течение дня. В этом случае значение `end_time должно быть больше, чем значение `start_time` последней желаемой поездки, но меньше, чем start_time + `headway_secs` последней желаемой поездки. | 
 
### transfers.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`from_stop_id, `to_stop_id, `from_trip_id, `to_trip_id, `from_route_id, `to_route_id`) 
 
 При расчете маршрута приложения, использующие GTFS, интерполируют transfers на основе допустимого времени и близости остановок. [Transfers.txt](#transferstxt) определяет дополнительные правила и переопределения для выбранных transfers. 
 
 Поля `from_trip_id, `to_trip_id, `from_route_id и `to_route_id допускают более высокий уровень специфичности для правил передачи. Наряду с `from_stop_id и `to_stop_id, ранжирование специфичности выглядит следующим образом: 
 
 1. Оба `trip_id` определены: `from_trip_id и `to_trip_id. 
 2. Определен один набор `trip_id` `route_id` : (`from_trip_id и `to_route_id) или (`from_route_id и `to_trip_id). 
 3. Определен один `trip_id` : `from_trip_id или `to_trip_id. 
 4. Определены оба `route_id`: `from_route_id и `to_route_id. 
 5. Определен один `route_id` : `from_route_id или `to_route_id. 
 6. Определены только `from_stop_id и `to_stop_id: поля, связанные с маршрутом или поездкой, не заданы. 
 
 Для данной заказанной пары прибывающего и улетающего рейса выбирается трансфер с наибольшей специфичностью, применимой между этими двумя рейсами. Для любой пары поездок не должно быть двух transfers с одинаковой максимальной специфичностью. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `from_stop_id| Ссылка на внешний идентификатор `stops.stop_id| **Условно обязательно** | Обозначает остановку или станцию, где начинается соединение между routes. Если это поле относится к станции, правило перехода применяется ко всем ее дочерним stops. Обращение к станции запрещено для `transfer_types 4 и 5. | 
 | `to_stop_id` | Ссылка на внешний идентификатор `stops.stop_id| **Условно обязательно** | Обозначает остановку или станцию, где заканчивается соединение между routes. Если это поле относится к станции, правило перехода применяется ко всем дочерним stops. Обращение к станции запрещено для `transfer_types 4 и 5. | 
 | `from_route_id| Внешний идентификатор, ссылающийся на `routes.route_id| Необязательно | Определяет маршрут, с которого начинается соединение.<br><br> Если `from_route_id определен, трансфер будет применяться к прибывающей поездке по маршруту для данного `from_stop_id.<br><br> Если определены оба `from_trip_id и `from_route_id, `trip_id` должен принадлежать `route_id`, и `from_trip_id будет иметь приоритет. | 
 | `to_route_id| Внешний идентификатор, ссылающийся на `routes.route_id| Необязательно | Определяет маршрут, на котором заканчивается соединение.<br><br> Если `to_route_id определен, трансфер будет применяться к отправляющейся поездке по маршруту для данного `to_stop_id.<br><br> Если определены оба `to_trip_id и `to_route_id, `trip_id` должен принадлежать `route_id`, и `to_trip_id будет иметь приоритет. | 
 | `from_trip_id` | Иностранный идентификатор, ссылающийся на `trips.trip_id` | **Условно обязательно** | Обозначает поездку, в которой начинается соединение между routes .<br><br> Если задан `from_trip_id, трансфер будет применяться к прибывающей поездке для данного `from_stop_id.<br><br> Если определены оба `from_trip_id и `from_route_id, `trip_id` должен принадлежать `route_id`, и `from_trip_id будет иметь приоритет. ОБЯЗАТЕЛЬНО, если `transfer_type имеет значение `4` или `5`. | 
 | `to_trip_id` | Иностранный идентификатор, ссылающийся на `trips.trip_id` | **Условно обязательно** | Обозначает поездку, в которой заканчивается соединение между routes .<br><br> Если определен `to_trip_id, трансфер будет применяться к отправлению рейса для данного `to_stop_id.<br><br> Если определены оба `to_trip_id и `to_route_id, `trip_id` должен принадлежать `route_id`, и `to_trip_id будет иметь приоритет. ОБЯЗАТЕЛЬНО, если `transfer_type имеет значение `4` или `5`. | 
 | `transfer_type| Перечисление | **Обязательно** | Указывает тип соединения для указанной пары (`from_stop_id, `to_stop_id). Допустимые варианты:<br><br> `0` или пусто — рекомендуемая точка пересадки между routes.<br> `1` — точка пересадки по времени между двумя routes. Ожидается, что отправляющееся vehicle будет ждать прибывающего и оставлять пассажиру достаточно времени для пересадки между routes.<br> `2` - Трансфер требует минимального amount между arrival и departure для обеспечения соединения. Время, необходимое для передачи, указывается в параметре `min_transfer_time.<br> `3` - Пересадки между routes на локации невозможны.<br> `4` — Пассажиры могут переходить из одной поездки в другую, оставаясь на борту того же vehicle («трансфер на месте»). Подробнее об этом виде трансфера [ниже](#linked-trips).<br> `5` — transfers на месте между последовательными рейсами не допускается. Пассажир должен выйти из vehicle и снова сесть в него. Подробнее об этом виде трансфера [ниже](#linked-trips). | 
 | `min_transfer_time| Неотрицательное целое число | Необязательно | Количество времени в секундах, которое должно быть доступно для пересадки между routes на указанных stops. `min_transfer_time должно быть достаточным, чтобы позволить обычному пассажиру перемещаться между двумя stops, включая буферное время, чтобы учесть отклонения в расписании на каждом маршруте. | 
 
#### Связанные поездки 
 
 Следующее относится к `transfer_type=4 и `=5`, которые используются для связывания поездок вместе с transfers на месте или без нее. 
 
 Связанные между собой поездки ДОЛЖНЫ осуществляться на одном и том же vehicle.vehicle МОЖЕТ быть присоединено к другим транспортным средствам или отсоединено от них. 
 
 Если предоставлены и передача связанных поездок, и block_id, и они дают противоречивые результаты, то должна использоваться передача связанных поездок. 
 
 Последняя остановка `from_trip_id ДОЛЖНА быть географически близка к первой остановке `to_trip_id, а время последнего arrival `from_trip_id ДОЛЖНО быть раньше, но близко к первому времени departure `to_trip_id. Последнее время arrival `from_trip_id МОЖЕТ быть позже, чем первое время departure `to_trip_id, если поездка `to_trip_id происходит в следующий день обслуживания. 
 
 Рейсы МОГУТ быть связаны 1-к-1 в обычном случае, но МОГУТ также быть связаны 1-к-n, n-к-1 или n-к-n для представления более сложных продолжений поездки. Например, два рейса поезда (рейс A и рейс B на схеме ниже) могут объединиться в один рейс поезда (рейс C) после операции сцепки vehicle на общей станции: 
 
 - В режиме 1-к-n продолжение, `trips.service_id` для каждого `to_trip_id` ДОЛЖЕН быть идентичным. 
 - В продолжении n-к-1 `trips.service_id` для каждого `from_trip_id` ДОЛЖЕН быть идентичным. 
 - Продолжения n-to-n должны учитывать оба ограничения. 
 - Поездки могут быть связаны друг с другом как часть нескольких отдельных продолжений, при условии, что `trip.service_id` НЕ ДОЛЖЕН перекрываться в какой-либо день обслуживания. 
 
<pre> 
 Отключение A 
 ──────────────────\ 
 \ Отключение C 
 ──────────── 
 Отключение B/
 ───────────────────/
</pre> 
 
### pathways.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`pathway_id) 
 
 Файлы [pathways.txt](#pathwaystxt) и [levels.txt](#levelstxt) использует графическое представление для описания станций метро или поездов, где узлы представляют местоположения, а ребра представляют pathways. 
 
 Чтобы пройти от входа/выхода станции (узел, представленный как локация с `location_type=2`) к платформе (узел, представленный как локация с `location_type=0` или пустая), гонщик будет двигаться через проходы, ворота, лестницы и другие края, представленные как pathways. Общие узлы (узлы, представленные `location_type=3) могут использоваться для соединения pathways по всей станции. 
 
 Пути должны быть полностью определены на станции. Если определены какие-либо pathways, предполагается, что представлены все pathways на всей станции. Поэтому применяются следующие рекомендации: 
 
 - Никаких висячих локаций: если в какой-либо локации на станции есть проход, то все локации внутри этой станции должны иметь pathways, за исключением платформ, на которых есть посадочные площадки (`location_type=4`, см.руководство ниже). 
 - Нет pathways для платформы с зонами посадки: платформа (`location_type=0` или пустая), имеющая зоны посадки (`location_type=4`), рассматривается как родительский объект, а не как точка. В таких случаях на платформе не должны быть назначены pathways. Все pathways должны быть назначены для каждой зоны посадки на платформу. 
 - Никаких заблокированных платформ: каждая платформа (`location_type=0` или пустая) или зона посадки (`location_type=4`) должна быть соединена хотя бы с одним входом/выходом (`location_type=2`) через некоторую цепочку pathways..Станции, не позволяющие выйти за пределы станции с данной платформы, встречаются редко. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `pathway_id| Уникальный идентификатор | **Обязательно** | Определяет путь. Используется системами в качестве внутреннего идентификатора записи. Должно быть уникальным в наборе данных.<br><br> Разные pathways могут иметь одинаковые значения для `from_stop_id и `to_stop_id.<hr> _Пример: когда два эскалатора расположены рядом в противоположных направлениях или когда лестница и лифт идут из одного и того же места в одно и то же место, разные `pathway_id могут иметь одинаковые значения `from_stop_id и `to_stop_id| 
 | `from_stop_id| Ссылка на внешний идентификатор `stops.stop_id| **Обязательно** | Место, где начинается путь.<br><br> Должен содержать `stop_id`, идентифицирующий платформу (`lo

cation_type=0` или пусто), вход/выход (`location_type=2`), общий узел (`location_type=3`) или зона посадки (`location_type=4`).<br><br> Значения `stop_id`, идентифицирующие станции (`location_type=1`), запрещены.| 
 | `to_stop_id` | Ссылка на внешний идентификатор `stops.stop_id| **Обязательно** | Место, где заканчивается путь.<br><br> Должен содержать `stop_id`, который идентифицирует платформу (`location_type=0` или пустой), вход/выход (`location_type=2`), общий узел (`location_type=3`) или зону посадки (`location_type=4`) .<br><br> Значения `stop_id`, идентифицирующие станции (`location_type=1`), запрещены.| 
 | `pathway_mode| Перечисление | **Обязательно** | Тип пути между указанной парой (`from_stop_id, `to_stop_id). Допустимые варианты:<br><br> `1` - Дорожка.<br> `2` - Лестница.<br> `3` - Движущийся тротуар/путешественник.<br> `4` - Эскалатор.<br> `5` - Лифт.<br> `6` — ворота для оплаты проезда (или ворота для оплаты): путь, ведущий в зону станции, для пересечения которой требуется подтверждение оплаты. Платные ворота могут отделять платные зоны станции от неоплаченных или отделять разные платежные зоны внутри одной станции друг от друга. Эту информацию можно использовать, чтобы избежать маршрутизации пассажиров через станции с использованием сокращений, которые require от пассажиров совершения ненужных платежей, например, указания пассажиру пройти через платформу метро, ​​​​чтобы добраться до автобусного перехода.<br> `7`- Выходные ворота: путь, ведущий из платной зоны в неоплачиваемую зону, для пересечения которой не требуется подтверждение оплаты.| 
 | `is_bidirectional| Перечисление | **Обязательно** | Указывает направление, в котором можно пройти:<br><br> `0` — однонаправленный путь, который можно использовать только от `from_stop_id до `to_stop_id.<br> `1` — двунаправленный путь, который можно использовать в обоих направлениях.<br><br> Выходные ворота (`pathway_mode=7) не должны быть двунаправленными.| 
 | `длина` | Неотрицательное float | Необязательно | Горизонтальная длина пути в метрах от исходного местоположения (определенного в `from_stop_id) до места назначения (определенного в `to_stop_id).<br><br> Это поле рекомендуется для проходов (`pathway_mode=1), выходов на оплату проезда (`pathway_mode=6) и выходов (`pathway_mode=7).| 
 | `traversal_time| Положительное целое число | Необязательно | Среднее время в секундах, необходимое для прохождения пути от исходного местоположения (определенного в `from_stop_id) до места назначения (определенного в `to_stop_id).<br><br> Это поле рекомендуется для движущихся тротуаров (`pathway_mode=3), эскалаторов (`pathway_mode=4) и лифтов (`pathway_mode=5).| 
 | `stair_count| Непустое целое число | Необязательно | Количество ступеней пути.<br><br> Положительное значение `stair_count означает, что пассажир поднимается от `from_stop_id до `to_stop_id. А отрицательное значение `stair_count означает, что пассажир спускается с `from_stop_id на `to_stop_id.<br><br> Это поле рекомендуется использовать для лестниц (`pathway_mode=2).<br><br> Если можно указать только приблизительное количество ступеней, рекомендуется указать приблизительно 15 ступенек на 1 этаж.| 
 | `max_slope| Float | Необязательно | Максимальный коэффициент уклона пути. Допустимые варианты:<br><br> `0` или пусто — наклона нет.<br> `Float— коэффициент наклона траектории, положительный при движении вверх, отрицательный при движении вниз.<br><br> Это поле следует использовать только с пешеходными дорожками (`pathway_mode=1) и движущимися тротуарами (`pathway_mode=3).<hr> _Пример: В США 0,083 (также пишется 8,3%) — это максимальный коэффициент наклона для инвалидной коляски с ручным приводом, что означает увеличение на 0,083 м (т.е. 8,3 см) на каждый 1 м._| 
 | `min_width` | Положительное float | Необязательно | Минимальная ширина дорожки в метрах.<br><br> Это поле рекомендуется использовать, если минимальная ширина менее 1 метра.| 
 | `signposted_as| Text | Необязательно | Публичный текст на физических вывесках, видимый пассажирам.<br><br> Может использоваться для предоставления водителям текстовых указаний, например «следуйте указателям». Текст в `singposted_as должен выглядеть точно так, как он напечатан на вывесках.<br><br> Если физические обозначения являются многоязычными, это поле может быть заполнено и переведено по примеру `stops.stop_name в определении поля `feed_info.feed_lang.| 
 | `reversed_signposted_as| Text | Необязательно | То же, что `signposted_as, но когда используется путь от `to_stop_id до `from_stop_id.| 
 
### levels.txt 
 
 Файл: **Условно обязательный** 
 
 Первичный ключ (`level_id`) 
 
 Описывает уровни на станции. Полезно в сочетании с [pathways.txt](#pathwaystxt). 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `level_id` | Уникальный идентификатор | **Обязательно** | Определяет уровень станции.| 
 | `level_index| Float | **Обязательно** | Числовой индекс уровня, указывающий его относительное position.<br><br> Уровень земли должен иметь индекс «0», при этом уровни над землей обозначаются положительными индексами, а уровни под землей — отрицательными индексами.| 
 | `level_name| Text | Необязательно | Название уровня, которое видит райдер внутри здания или станции.<hr> _Пример: Поднимитесь на лифте до «Мезонина», «Платформы» или «-1»._| 
 
### location_groups.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`location_group_id`) 
 
 Определяет группы местоположений, которые представляют собой группы stops, которые пассажир может запросить забрать или высадить. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |----------|----|------------|-----------| 
 | `location_group_id` | Уникальный идентификатор | **Обязательно** | Определяет группу местоположений. Идентификатор должен быть уникальным для всех значений `stops.stop_id, locations.geojson `id` и `location_groups.location_group_id`.<br><br> Группа локаций — это группа stops, которые вместе указывают места, где пассажир может запросить посадку или высадку. | 
 | `имя_группы_локации` | Text | Необязательно | Название группы местоположений, отображаемое пользователю. | 
 
### location_group_stops.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`*`) 
 
 Назначает stops из stops.txt группам местоположений. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |----------|----|------------|-----------| 
 | `location_group_id` | Внешний идентификатор, ссылающийся на `location_groups.location_group_id` | **Обязательно** | Идентифицирует группу местоположений, к которой принадлежит один или несколько `stop_id`. Один и тот же `stop_id` может быть определен во многих `location_group_id`. | 
 | `stop_id` | Ссылка на внешний идентификатор `stops.stop_id| **Обязательно** | Определяет остановку, принадлежащую группе местоположений. | 
 
 
### locations.geojson 
 
 Файл: **Необязательно** 
 
 Определяет зоны, где пассажиры могут запрашивать посадку или высадку с помощью услуг по требованию. Эти зоны представлены в виде полигонов GeoJSON. 
 
 — Этот файл использует подмножество формата GeoJSON, описанное в [RFC 7946](https://tools.ietf.org/html/rfc7946). 
. Файл `locations.geojson` должен содержать FeatureCollection. 
. Коллекция FeatureCollection определяет различные места остановок, где пассажиры могут запросить посадку или высадку. 
. Каждая функция GeoJSON должна иметь `id`. `id` должен быть уникальным для всех значений `stops.stop_id, locations.geojson `id` и `location_group_id`. 
 – Каждая `Функция` GeoJSON должна иметь объекты и связанные с ними ключи в соответствии с таблицей ниже: 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 |- `тип` | Строка | **Обязательно** | `"FeatureCollection"` локаций. | 
 |- `особенности` | Массив | **Обязательно** | Коллекция объектов ``Feature’`, описывающих локации. | 
 |     \- `тип` | Строка | **Обязательно** | `"Особенность"` | 
 |     \- `id` | Строка | **Обязательно** | Определяет местоположение. Идентификатор должен быть уникальным для всех значений `stops.stop_id, locations.geojson `id` и `location_groups.location_group_id`. | 
 |     \- `свойства` | Объект | **Обязательно** | Ключи от собственности локации. | 
 |         \- `stop_name| Строка | Необязательно | Указывает название места, отображаемое для пассажиров. | 
 |         \- `stop_desc| Строка | Необязательно | Содержательное описание места, чтобы помочь гонщикам сориентироваться. | 
 |     \- `геометрия` | Объект | **Обязательно** | Геометрия локации. | 
 |         \- `тип` | Строка | **Обязательно** | Должно быть типа:<br> - `"Polygon"`<br> - `"Мультиполигон"` | 
 |         \- `координаты` | Массив | **Обязательно** | Географические координаты (latitude и longitude), определяющие геометрию локации. | 
 
### booking_rules.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`booking_rule_id`) 
 
 Определяет правила бронирования для услуг, запрошенных пассажиром 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `booking_rule_id` | Уникальный идентификатор | **Обязательно** | Определяет правило. | 
 | `тип_бронирования` | Перечисление | **Обязательно** | Указывает, насколько заранее можно сделать бронирование. Допустимые варианты:<br><br> `0` — бронирование в реальном времени.<br> `1` — бронирование в тот же день с предварительным уведомлением.<br> `2` – до предыдущего дня бронирования. | 
 | `prior_notice_duration_min` | Целое число | **Условно обязательно** | Минимальное количество минут до поездки, чтобы сделать запрос.<br><br> **Условно обязательно**:<br> - **Обязательно** для `booking_type=1`.<br> - **Запрещено** в противном случае. | 
 | `prior_notice_duration_max` | Целое число | **Условно запрещено** | Максимальное количество минут до поездки, чтобы сделать запрос на бронирование.<br><br> **Условно запрещено**:<br> - **Запрещено** для `booking_type=0` и `booking_type=2`.<br> - Необязательно для `booking_type=1`.| 
 | `prior_notice_last_day` | Целое число | **Условно обязательно** | Последний день перед поездкой, чтобы сделать запрос на бронирование.<br><br> Пример: «Поездку необходимо забронировать за 1 день до 17:00» будет закодировано как «prior_notice_last_day=1».<br><br> **Условно обязательно**:<br> - **Обязательно** для `booking_type=2`.<br> - **Запрещено** в противном случае. | 
 | `prior_notice_last_time` | Время | **Условно обязательно** | Последний раз в последний день перед поездкой сделать запрос на бронирование.<br><br> Пример: «Поездку необходимо забронировать за 1 день до 17:00» будет закодировано как «prior_notice_last_time=17:00:00».<br><br> **Условно обязательно**:<br> - **Обязательно**, если определен «prior_notice_last_day».<br> - **Запрещено** в противном случае. | 
 | `prior_notice_start_day` | Целое число | **Условно запрещено** | Самый ранний день перед поездкой, чтобы сделать запрос на бронирование.<br><br> Пример: «Поездку можно забронировать не раньше, чем за неделю до полуночи» будет закодировано как «prior_notice_start_day=7».<br><br> **Условно запрещено**:<br> - **Запрещено** для `booking_type=0`.<br> - **Запрещено** для `booking_type=1`, если определено `prior_notice_duration_max`.<br> - В противном случае необязательно. | 
 | `prior_notice_start_time` | Время | **Условно обязательно** | Самое раннее время в самый ранний день перед поездкой, чтобы сделать запрос на бронирование.<br><br> Пример: «Поездку можно забронировать не раньше, чем за неделю до полуночи» будет закодировано как «prior_notice_start_time=00:00:00».<br><br> **Условно обязательно**:<br> - **Обязательно**, если определен «prior_notice_start_day».<br> - **Запрещено** в противном случае. | 
 | `prior_notice_service_id` | Ссылка на идентификатор `calendar.service_id| **Условно запрещено** | Указывает дни обслуживания, в которые учитываются `prior_notice_last_day` или `prior_notice_start_day`.<br><br> Пример: если это значение пусто, `prior_notice_start_day=2` будет на два календарных дня вперед. Если задано как `service_id, содержащее только рабочие дни (будние дни без праздников), `prior_notice_start_day=2` будет на два рабочих дня вперед.<br><br> **Условно запрещено**:<br> – Необязательно, если `booking_type=2`.<br> - **Запрещено** в противном случае. | 
 | `message| Text | Необязательно | Сообщение для пассажиров, использующих услугу в `stop_time при бронировании по требованию и высадке. Предназначен для предоставления минимальной информации, передаваемой в пользовательском интерфейсе, о действии, которое пассажир должен предпринять, чтобы воспользоваться услугой. | 
 | `pickup_message` | Text | Необязательно | Функционирует так же, как «message», но используется, когда пассажиры могут получить сообщение только по требованию. | 
 | `drop_off_message` | Text | Необязательно | Функционирует так же, как `message, но используется только тогда, когда пассажиры могут высадиться только по требованию. | 
 | `номер_телефона` | Phone number | Необязательно | Phone number, по которому можно позвонить и оставить заявку на бронирование. | 
 | `info_url` | URL-адрес | Необязательно | URL, предоставляющий информацию о правиле бронирования. | 
 | `booking_url` | URL-адрес | Необязательно | URL онлайн-интерфейса или приложения, где можно сделать запрос на бронирование. | 
 
### translations.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`table_name`, `field_name`, `language`, ` `record_id, ` `record_sub_id, ` `field_value`) 
 
 В регионах, где имеется несколько официальных языков, транзитные агентства/операторы обычно имеют названия и веб-страницы на конкретных языках. Чтобы лучше обслуживать пассажиров в этих регионах, в набор данных полезно включить эти языкозависимые значения. 
 
 Если оба метода ссылки (`record_id, `record_sub_id) и `field_value используются для перевода одного и того же значения в 2 разных строках, перевод, предоставленный с помощью (`record_id, `record_sub_id), имеет приоритет. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `table_name| Перечисление | **Обязательно** | Определяет таблицу, содержащую поле для перевода. Допустимые значения:<br><br> - `agency<br> - `stops<br> - `routes<br> - `поездки`<br> - `stop_times<br> - `pathways<br> - `уровни`<br> - `feed_info<br> - `attributions<br><br> Любой файл, добавленный в GTFS, будет иметь значение `table_name, эквивалентное имени файла, как указано выше (т.е.не включая расширение файла `.txt). | 
 | `field_name| Text | **Обязательно** | Имя поля, которое необходимо перевести. Поля с типом «Text» могут быть переведены, поля с типом «URL», «Email» и «Phone number» также могут быть «переведены» для предоставления ресурсов на правильном языке. Поля других типов переводить не следует. | 
 | `язык` | Код языка | **Обязательно** | Язык перевода.<br><br> Если язык тот же, что и в `feed_info.feed_lang, исходное значение поля будет считаться значением по умолчанию для использования на языках без конкретных переводов (если `default_lang t указано иное).<hr> _Пример: В Швейцарии город в официально двуязычном кантоне официально называется «Biel/Bienne», но на французском языке он будет называться просто «Bienne», а на немецком — «Biel»._ | 
 | `перевод` | Text, URL, Email или Phone number | **Обязательно** | Переведенное значение. | 
 | `record_id| Иностранное удостоверение личности | **Условно обязательно** | Определяет запись, соответствующую полю, подлежащему переводу. Значение в `record_id должно быть первым или единственным полем первичного ключа таблицы, как определено в атрибуте первичного ключа для каждой таблицы и ниже:<br><br> - `agency_id` для [agency.txt](#agencytxt)<br> - `stop_id` для [stops.txt](#stopstxt);<br> - `route_id` для [routes.txt](#routestxt);<br> - `trip_id` для [trips.txt](#tripstxt);<br> - `trip_id` для [stop_times.txt](#stop_timesxt);<br> - `pathway_id для [pathways.txt](#pathwaystxt);<br> - `level_id для [levels.txt](#levelstxt);<br> - `attribution_id для [attributions.txt](#attributionstxt).<br><br> Поля в таблицах, не определенные выше, не следует переводить. Однако производители иногда добавляют дополнительные поля, выходящие за рамки официальной спецификации, и эти неофициальные поля могут быть переведены. Ниже приведен рекомендуемый способ использования `record_id для этих таблиц:<br><br> - `service_id для [calendar.txt](#calendartxt);<br> - `service_id для [calendar_dates.txt](#calendar_datestxt);<br> - `fare_id для [fare_attributes.txt](#fare_attributestxt);<br> - `fare_id для [fare_rules.txt](#fare_rulestxt);<br> - `shape_id` для [shapes.txt](#shapestxt);<br> - `trip_id` для [frequencies.txt](#frequencystxt);<br> - `from_stop_id для [transfers.txt](#transferstxt).<br><br> Условно требуется:<br> - **Запрещено**, если `table_name равно `feed_info.<br> - **Запрещено**, если определено `field_value.<br> - **Обязательно**, если `field_value пусто. | 
 | `record_sub_id| Иностранное удостоверение личности | **Условно обязательно** | Помогает перевести запись, содержащую поле, если таблица t имеет уникального идентификатора. Следовательно, значение в `record_sub_id является вторичным идентификатором таблицы, как определено в таблице ниже:<br><br> - Нет для [agency.txt](#agencytxt);<br> - Нет для [stops.txt](#stopstxt);<br> - Нет для [routes.txt](#routestxt);<br> - Нет для [trips.txt](#tripstxt);<br> - `stop_sequence` для [stop_times.txt](#stop_timestxt);<br> - Нет для [pathways.txt](#pathwaystxt);<br> - Нет для [levels.txt](#levelstxt);<br> – Нет для [attributions.txt](#attributionstxt).<br><br> Поля в таблицах, не определенные выше, не следует переводить. Однако производители иногда добавляют дополнительные поля, выходящие за рамки официальной спецификации, и эти неофициальные поля могут быть переведены. Ниже приведен рекомендуемый способ использования `record_sub_id для этих таблиц:<br><br> - Нет для [calendar.txt](#calendartxt);<br> - `date для [calendar_dates.txt](#calendar_datestxt);<br> - Нет для [fare_attributes.txt](#fare_attributestxt);<br> - `route_id` для [fare_rules.txt](#fare_rulestxt);<br> - Нет для [shapes.txt](#shapestxt);<br> - `start_time` для [frequencies.txt](#frequencystxt);<br> - `to_stop_id для [transfers.txt](#transferstxt).<br><br> Условно требуется:<br> - **Запрещено**, если `table_name равно `feed_info.<br> - **Запрещено**, если определено `field_value.<br> - **Обязательно**, если определены `table_name=stop_times и `record_id. | 
 | `field_value| Text, URL, Email или Phone number | **Условно обязательно** | Вместо определения того, какая запись должна быть переведена, с помощью `record_id и `record_sub_id, это поле можно использовать для определения значения, которое должно быть переведено. При использовании перевод будет применен, когда поля, идентифицированные `table_name и `field_name, содержат точно такое же значение, определенное в field_value.<br><br> Поле должно иметь **точно** значение, определенное в `field_value. Если только часть значения соответствует `field_value, перевод t будет применен.<br><br> Если два правила перевода соответствуют одной и той же записи (одно с `field_value, а другое с `record_id), правило с `record_id имеет приоритет.<br><br> Условно требуется:<br> - **Запрещено**, если `table_name равно `feed_info.<br> - **Запрещено**, если определен `record_id.<br> - **Обязательно**, если `record_id пуст. | 
 
### feed_info.txt 
 
 Файл: **Рекомендуется** (**Требуется**, если указан [translations.txt](#translationstxt)) 
 
 Primary key (none) § § 
 Файл содержит информацию о самом наборе данных, а не об услугах, которые описывает набор данных. В некоторых случаях издателем набора данных является entity, отличная от любого из агентств. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `feed_publisher_name| Text | **Обязательно** | Полное название организации, публикующей набор данных. Это может быть то же самое, что и одно из значений agency.agency_name. | 
 | `feed_publisher_url| URL-адрес | **Обязательно** | URL веб-сайта организации, публикующей набор данных. Это может быть то же самое, что и одно из значений agency.agency_url. | 
 | `feed_lang| Код языка | **Обязательно** | Язык по умолчанию, используемый для текста в этом наборе данных. Этот параметр помогает пользователям GTFS выбирать правила использования заглавных букв и другие настройки для конкретного языка для набора данных. Файл `translations.txt можно использовать, если текст необходимо перевести на языки, отличные от языка по умолчанию.<br><br> Язык по умолчанию может быть многоязычным для наборов данных с исходным текстом на нескольких языках. В таких случаях поле `feed_lang должно содержать код языка `mul, определенный нормой ISO 639-2, а перевод для каждого языка, используемого в наборе данных, должен быть предоставлен в `translations.txt. Если весь исходный текст в наборе данных написан на одном языке, то «mul» использовать не следует.<hr> _Пример: рассмотрим набор данных из многоязычной страны, такой как Швейцария, с исходным полем `stops.stop_name, заполненным названиями остановок на разных языках. Название каждой остановки пишется в соответствии с преобладающим языком в географическом положении этой остановки, например, «Genève» для франкоязычного города Geneva, «Zürich» для немецкоязычного города Zurich и «Biel/Bienne» для двуязычного города.город Biel/Bienne. Набор данных `feed_lang должен быть `mul, а переводы будут предоставлены в `translations.txt на немецком языке: `Genf, `Zürich и `Biel; на французском языке: «Genève», «Zurich» и «Bienne»; по-итальянски: ’ Ginevra’, ’ Zurigo’ и ’ Bienna’; и на английском языке: «Geneva», «Zurich» и «Biel/Bienne»._ | 
 | `default_lang| Код языка | Необязательно | Определяет язык, который следует использовать, если потребитель данных t знает языка пассажира. Часто это будет `en` (английский). | 
 | `feed_start_date| Дата | Рекомендуется | Набор данных предоставляет полную и достоверную информацию о расписании обслуживания в период от начала дня «feed_start_date» до конца дня «feed_end_date ». Оба дня можно оставить пустыми, если они недоступны.date ` feed_end_date не должна предшествовать date ` feed_start_date, если указаны обе. Поставщикам наборов данных рекомендуется предоставлять данные расписания за пределами этого периода, чтобы сообщить о вероятном будущем обслуживании, но потребители наборов данных должны относиться к ним, помня о их неавторитетном статусе. Если ` feed_start_date или `feed_end_date выходят за рамки активных календарных дат, определенных в [calendar.txt](#calendartxt) и [calendar_dates.txt](#calendar_datestxt), набор данных явно утверждает, что для дат нет службы.в диапазоне `feed_start_date или `feed_end_date, но не включены в активные календарные даты. | 
 | `feed_end_date| Дата | Рекомендуется | (см.выше) | 
 | `feed_version| Text | Рекомендуется | Строка, указывающая текущую версию набора данных GTFS. Приложения, использующие GTFS, могут отображать это значение, чтобы помочь издателям наборов данных определить, включен ли последний набор данных. | 
 | `feed_contact_email| Email | Необязательно | Адрес Email для связи по поводу набора данных GTFS и практики публикации данных. `feed_contact_email— это технический контакт для приложений, использующих GTFS. Предоставьте контактную информацию службы поддержки клиентов через [agency.txt](#agencytxt). Рекомендуется указать хотя бы один из адресов `feed_contact_email или `feed_contact_url. | 
 | `feed_contact_url| URL-адрес | Необязательно | URL адрес контактной информации, веб-формы, службы поддержки или других инструментов для связи по поводу набора данных GTFS и практики публикации данных. `feed_contact_url— это технический контакт для приложений, использующих GTFS. Предоставьте контактную информацию службы поддержки клиентов через [agency.txt](#agencytxt). Рекомендуется указать хотя бы один из адресов `feed_contact_url или `feed_contact_email. | 
 
### attributions.txt 
 
 Файл: **Необязательно** 
 
 Первичный ключ (`attribution_id`) 
 
 Файл определяет attributions, применяемые к набору данных. 
 
 | Имя поля | Тип | Присутствие | Описание | 
 |------|------|------|------| 
 | `attribution_id| Уникальный идентификатор | Необязательно | Идентифицирует атрибуцию набора данных или его подмножества. Это в основном полезно для переводов. | 
 | `agency_id| Иностранный идентификатор, ссылающийся на `agency.agency_id| Необязательно | Агентство, к которому применяется атрибуция.<br><br> Если одна атрибуция agency_id, `route_id` или `trip_id` определена, остальные должны быть пустыми. Если ни один из них не указан, атрибуция будет применяться ко всему набору данных. | 
 | `route_id` | Внешний идентификатор, ссылающийся на `routes.route_id| Необязательно | Функционирует так же, как и agency_id, за исключением того, что атрибуция применяется к маршруту. К одному и тому же маршруту может применяться несколько attributions. | 
 | `trip_id` | Иностранный идентификатор, ссылающийся на `trips.trip_id` | Необязательно | Функционирует так же, как и agency_id, за исключением того, что атрибуция применяется к поездке. К одной и той же поездке может быть применено несколько attributions. | 
 | `organization_name| Text | **Обязательно** | Название организации, которой принадлежит набор данных. | 
 | `is_producer| Перечисление | Необязательно | Роль организации – продюсер. Допустимые варианты:<br><br> `0` или пусто — у организации t этой роли.<br> `1` — у организации есть эта роль.<br><br> По крайней мере одно из полей `is_producer, `is_operator или `is_authority должно быть установлено в `1`. | 
 | `is_operator| Перечисление | Необязательно | Функционирует так же, как `is_producer, за исключением того, что ролью организации является оператор. | 
 | `is_authority| Перечисление | Необязательно | Функционирует так же, как `is_producer, за исключением того, что ролью организации является авторитет. | 
 | `attribution_url| URL-адрес | Необязательно | URL организации. |

 
 | `attribution_email| Email | Необязательно | Email организации. | 
 | `attribution_phone| Phone number | Необязательно | Phone number организации. | 
 

