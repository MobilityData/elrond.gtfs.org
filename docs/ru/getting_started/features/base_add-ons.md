# Базовые надстройки 
 Эти функции расширяют возможности, описанные в Base, служащие либо для повышения полноты набора данных GTFS, чтобы обеспечить лучший опыт для пассажиров, либо для облегчения сотрудничества между агентствами, поставщиками данных и повторными пользователями данных. Эти улучшения могут повлечь за собой введение новых полей в файлы, описанные в разделе Base, или создание новых файлов. 
 
## Информация о фиде 
 
 Информация о фиде сообщает важную информацию о фиде, такую ​​как срок его действия ( date начала и окончания), издательскую организацию и контактную информацию для запросов относительно набора данных GTFS и практики публикации данных. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[feed_info.txt](../../../documentation/schedule/reference/#feed_infotxt)|`feed_publisher_name, `feed_publisher_url, `feed_lang, `default_lang, `feed_start_date, `feed_end_date`, `feed_version, `feed_contact_email, `feed_contact_url| 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> <a href="../../../documentation/schedule/reference/#feed_infotxt"><b>feed_info.txt</b></a><br> 
</p> 
 
 | feed_publisher_name | feed_publisher_url | feed_lang | default_lang | feed_start_date | feed_end_date | feed_version | feed_contact_email | feed_contact_url | 
 |--------------------------|----------------------|-----------|--------------|-----------------|---------------|--------------|--------------------|------------------------------| 
 | Транспорт Большого региона | https://www.gra1.org | ru | ru | 20240101 | 20241231 | 3.1 | support@gra1.org | https://www.gra1.org/support | 
 
## Фигуры 
 Фигуры можно определить и связать с поездками, что позволяет приложениям планирования поездок отображать поездки на карте и информировать пассажиров о расстоянии, которое им необходимо проехать в транзитном vehicle. Поля shape_dist_traveled используются для программного определения того, какую часть shape следует нарисовать при показе карты гонщикам. 
 При определении фигур существует баланс между уровнем их детализации (например, точным соблюдением кривизны дорог) и эффективной передачей только необходимой информации. 
 
 |Включенные файлы |Включенные поля | 
 |----------------------------------|-------------------| 
 |[shapes.txt](../../../documentation/schedule/reference/#shapestxt) | `shape_id`, `shape_pt_lat`, `shape_pt_lon`, `shape_pt_sequence`, `shape_dist_traveled| 
 |[trips.txt](../../../documentation/schedule/reference/#tripstxt) | `shape_id` | 
 |[stop_times.txt](../../../documentation/schedule/reference/#stop_timestxt) |`shape_dist_traveled`| 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показана часть shape из фида TriMet GTFS (загрузите ее <a     href="https://developer.trimet.org/GTFS.shtml">здесь</a> ).<br><br> 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#shapestxt">shapes.txt</a><br> 
</p> 
 
 | shape_id | shape_pt_lat | shape_pt_lon | shape_pt_sequence | shape_dist_traveled | 
 |---------|-------------|-------------|------------------|-------------------| 
 | 558674 | 45,47623 |-122,721885 | 1 | 0,0 | 
 | 558674 | 45,476235 |-122,72236 | 2 | 121,9 | 
 | 558674 | 45,476237 |-122,722523 | 3 | 163,7 | 
 | 558674 | 45,476242 |-122,723024 | 4 | 292,2 | 
 | 558674 | 45,476244 |-122,72316 | 5 | 327,1 | 
 
!!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#tripstxt">trips.txt</a><br> 
</p> 
 
 | trip_id | shape_id| 
 |--------|--------| 
 |13302375|558674 | 
 
!!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#stop_timestxt">stop_times.txt</a><br> 
</p> 
 
 | trip_id | stop_sequence| shape_dist_traveled| 
 |--------|-------------|-------------------| 
 |13302375|1 |0 | 
 |13302375|2 |461.7 | 
 |13302375|3 |1245 | 
 
## Цвета маршрутов 
 
 Использование цветов маршрутов позволяет точно отображать и передавать цветовую схему, назначенную конкретным routes в соответствии с рекомендациями агентства по проектированию. Это позволяет пользователям легко идентифицировать транзитные услуги по их официальному цвету. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[routes.txt](../../../documentation/schedule/reference/#routestxt)|`route_color, `route_text_color| 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показано, что маршрут `RA` выделен оранжевым цветом с использованием шестнадцатеричного цветового кода `D95700`, и этот текст должен отображаться черным с использованием шестнадцатеричного цветового кода `0`. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#routestxt"><b>routes.txt</b></a><br> 
</p> 
 
 | route_id | agency_id | route_short_name | route_long_name | route_type | route_color | route_text_color | 
 |----------|-----------|------------------|--------------------|------------|-------------|------------------| 
 | РА | агентство001 | 17 | Миссия - Центр города | 3 | Д95700 | 0 | 
 
## «Велосипед разрешен» 
 
 «Велосипед разрешен» указывает, могут ли транспортные средства, обслуживающие определенные поездки, принимать велосипеды или нет, помогая пользователям планировать и получать доступ к услугам, которые позволяют им совершать мультимодальные поездки. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[trips.txt](../../../documentation/schedule/reference/#tripstxt)|`bikes_allowed` | 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере указано, что vehicle, используемое в поездке `AWE1, может вместить на борту хотя бы один велосипед (`bikes_allowed=1`), а vehicle, используемое в поездке `AWE2`, не может (`bikes_allowed= 2`). 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#tripstxt"><b>trips.txt</b></a><br> 
</p> 
 
 | route_id | service_id | trip_id | bikes_allowed | 
 |----------|------------|---------|---------------| 
 | РА | МЫ | AWE1 | 1 | 
 | РА | МЫ | AWE2 | 2 | 
 
## Headsigns 
 
 Headsigns позволяет передавать указатели, используемые транспортными средствами, указывающие пункт назначения поездки, что упрощает пользователям определение правильной транзитной услуги. Эта функция поддерживает смену указателей направления на определенном маршруте. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[trips.txt](../../../documentation/schedule/reference/#tripstxt)|`trip_headsign` | 
 |[stop_times.txt](../../../documentation/schedule/reference/#stop_timestxt)|`stop_headsign`| 
 
 **Необходимое условие**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере первая таблица указывает указатели, которые будут использоваться в рейсах `AWE1 и `AWE2, а вторая указывает, что главный знак `AWE1 будет изменен после остановки `TAS004`, переопределяя тот, который указано в `trips.txt. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#tripstxt"><b>trips.txt</b></a><br> 
</p> 
 
 | route_id | service_id | trip_id | trip_headsign | 
 |----------|------------|---------|---------------| 
 | РА | МЫ | AWE1 | Центр города | 
 | РА | МЫ | AWE2 | Миссия | 
 
 
!!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#stop_timestxt"><b>stop_times.txt</b></a><br> 
</p> 
 
 | trip_id | arrival_time | departure_time | stop_id | stop_sequence | stop_headsign | 
 |---------|--------------|----------------|---------|---------------|------------------------| 
 | AWE1 | 6:10:00 | 6:10:00 | ТАС001 | 1 | | 
 | AWE1 | 6:14:00 | 6:14:00 | ТАС002 | 2 | | 
 | AWE1 | 6:20:00 | 6:20:00 | ТАС003 | 3 | | 
 | AWE1 | 6:23:00 | 6:23:00 | ТАС004 | 4 | Центр города - Главная площадь | 
 | AWE1 | 6:25:00 | 6:25:00 | ТАС005 | 5 | Центр города - Главная площадь | 
 
## Типы местоположения 
 
 Типы местоположения используются для классификации ключевых областей внутри транзитных станций, таких как выходы/входы, узлы или зоны посадки, а также их взаимосвязей. Типы местоположений служат основой для моделирования транзитных станций с использованием Pathways. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[stops.txt](../../../documentation/schedule/reference/#stopstxt)|`location_type`, `parent_station` | 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показано несколько местоположений внутри транзитной станции в `stops.txt`: родительская станция, представляющая основное местоположение, и ее дочерние местоположения, такие как платформы, входы/существования и общие узлы. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#stopstxt"><b>stops.txt</b></a><br> 
</p> 
 
 | stop_id | stop_name | location_type | parent_station | 
 |--------------|-------------------------------------------------------|---------------|----------------| 
 | Станция_A102 | Станция Мейн-стрит | 1 | | 
 | A102_B01 | Станция Мейн-стрит — Северная платформа | 0 | Станция_A102 | 
 | A102_B02 | Станция Мэйн-Стрит — Южная платформа | 0 | Станция_A102 | 
 | А102_Е01 | Станция Мейн-стрит – вход/выход | 2 | Станция_A102 | 
 | А102_S01 | Станция Мейн-стрит – верхняя часть входной лестницы | 3 | Станция_A102 | 
 | А102_S02 | Станция Main Street – Внизу входной лестницы | 3 | Станция_A102 | 
 | А102_S03 | Станция Мейн-стрит — верхняя часть лестницы северной платформы | 3 | Станция_A102 | 
 | А102_S04 | Станция Мэйн-Стрит – Внизу лестницы северной платформы | 3 | Станция_A102 | 
 | A102_S05 | Станция Мейн-стрит — верхняя часть лестницы южной платформы | 3 | Станция_A102 | 
 | А102_S06 | Станция Мэйн-Стрит – Внизу лестницы южной платформы | 3 | Станция_A102 | 
 | A102_F01 | Станция Мейн-стрит – Платная сторона ворот | 3 | Станция_A102 | 
 | A102_F02 | Станция Мэйн-Стрит – Неоплачиваемая сторона ворот | 3 | Станция_A102 | 
 
## Частотная служба 
 
 Частотная служба может использоваться для моделирования служб, которые работают с постоянной частотой, например автобусов, курсирующих каждые 10 минут, или служб метро, ​​работающих 2 минуты в течение заданных интервалов времени. 
 При моделировании услуги, основанной на частоте, `stop_times.txt` содержит относительное время между stops, чтобы определить время, которое будет отображаться для пассажиров. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[frequencies.txt](../../../documentation/schedule/reference/#frequencystxt)| `trip_id`, `start_time`, `end_time, `headway_secs`, `exact_times` | 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показаны два отдельных отключения: отключение `AWE1, которое выполняется каждые 30 минут (`headway_secs=1800`), и отключение `AWE2, которое выполняется каждые 15 минут (`headway_secs=900`). 
<p style="font-size:16px"> 
 Поле `exact_times` указывает, соответствует ли расписание точному времени начала, введенному в поле `start_time’: 
 - Поездка `AWE1 отправляется каждые 30 минут с 6:10 до 12:00. 
 — рейс «AW2» отправляется в 6:00, 6:15, 6:30 и т.д. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#frequenciestxt"><b>frequencies.txt</b></a><br> 
</p> 
 
 | trip_id | start_time | end_time | headway_secs | exact_times | 
 ---------|------------|----------|--------------|-------------| 
 AWE1 | 6:10:00 | 12:00:00 | 1800 | 0 | 
 AWE2 | 6:00:00 | 19:50:00 | 900 | 1 | 
 
## Трансферы 
 
 Трансферы предоставляют подробную информацию о переходах между различными сегментами (или этапами) путешествия, что позволяет планировщикам поездок определить осуществимость поездок, включающих transfers. Указание transfers не означает, что пассажиры t могут пересаживаться в другое место, оно просто показывает, являются ли определенные transfers невозможными или require минимального времени для пересадки. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[transfers.txt](../../../documentation/schedule/reference/#transferstxt)|`from_stop_id`, `to_stop_id`, `from_route_id`, `to_route_id`, ` from_trip_id `, `from_trip_id`, `to_trip_id`, `transfer_type, `min_transfer_time| 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показаны три различные transfers: одна между stops, для которой требуется минимальное время пересадки 5 минут, одна пересадка по времени между двумя routes и одна пересадка на месте между двумя поездками, совершаемыми одним и тем же vehicle. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#transferstxt"><b>transfers.txt</b></a><br> 
</p> 
 
 | from_stop_id | to_stop_id | from_route_id | to_route_id | from_trip_id | to_trip_id | transfer_type | min_transfer_time | 
 |--------------|-------------|---------------|-------------|--------------|------------|---------------|-------------------| 
 | s6 | s7 | | | | | 2 | 300 | 
 | | | | | PL04-003 | ДЛ57-008 | 4 | | 
 | | | БР09 | CR01 | БР09-012 | CR01-005 | 1 | | 
 
## Переводы 
 
 Переводы позволяют предоставлять служебную информацию, такую ​​как названия станций, на нескольких языках, позволяя планировщикам путешествий отображать информацию на определенном языке в зависимости от языка пользователя и настроек местоположения. 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[translations.txt](../../../documentation/schedule/reference/#translationstxt)|`table_name`,`field_name`,`language`,`translation`,`record_id`,`record_sub_id`,`field_value` | 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
 В следующем примере показаны переводы на французский и испанский языки для двух полей, используемых в `routes.txt: `route_long_name и `route_desc. 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#translationstxt"><b>translations.txt</b></a><br> 
</p> 
 
 | table_name | field_name | язык | перевод | record_id | record_sub_id | field_value | 
 |------------|-----------------|----------|-------------------------------------------------------|-----------|---------------|-------------| 
 | routes | route_long_name | ЭС | Миссия - Центро | РА | | | 
 | routes | route_long_name | ФР | Миссия - Центр Виль | РА | | | 
 | routes | route_desc | ЭС | Рута «А» проходит через Нижнюю миссию в центре | РА | | | 
 | routes | route_desc | ФР | Маршрут «А» проходит через Нижнюю Миссию в центре Виля. | РА | | | 
 
## Атрибуция 
 
 Атрибуция позволяет поделиться дополнительной информацией об организациях, участвующих в создании набора данных (производители, операторы и/или органы власти и т.д.). 
 
 | Файлы включены | Поля включены | 
 |----------------------------------|-------------------| 
 |[attributions.txt](../../../documentation/schedule/reference/#attributionstxt) |`attribution_id`, `agency_id, `route_id`, `trip_id`, `organization_name, `is_producer`, `is_operator, `is_authority, `attribution_url, `attribution_email, `attribution_phone| 
 
 
 **Предварительные требования**: 
 
 - [Базовые функции](../base) 
 
 ??? примечание «Пример данных» 
 
<p style="font-size:16px"> 
</p> 
 !!! примечание "" 
<p style="font-size:16px"> 
 <a href="../../../documentation/schedule/reference/#attributionstxt"><b>attributions.txt</b></a><br> 
</p> 
 
 | attribution_id | agency_id | route_id | trip_id | organization_name | is_producer | is_operator | is_authority | attribution_url | attribution_email | attribution_phone | 
 |----------------|-----------|----------|---------|--------------------------|-------------|-------------|--------------|----------------------------------|-------------------------|-------------------| 
 | оп01 | ТБ | | | Транзитный автобус | | 1 | | https://www.transitbus.org/fares | contact@transitbus.org | (777) 555-7777 | 
 | au01 | гра | | | Транспорт Большого региона | 1 | | 1 | https://www.gra1.org | контакт@gra1.org | (555) 555-5555 | 
 | оп02 | | rtd023 | | Автобусная компания А | | 1 | | https://www.buscompanya.com | contact@buscompanya.com | (333) 333-3333 | 
 | оп03 | | rtd025 | | Автобусная компания Б | | 1 | | https://www.buscompanyb.com | contact@buscompanyb.com | (888) 888-8888 | 
 

