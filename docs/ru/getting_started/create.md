# Создание набора данных GTFS## Обзор канала GTFS 
 Все каналы GTFS начинаются с набора данных в справочном формате GTFS, который представляет собой серию файлов CSV, сохраненных с расширением.txt [^1]. В своей самой базовой реализации набор данных GTFS обычно начинается с семи базовых файлов, объединенных в файл.zip, который размещается по стабильному и общедоступному URL: это фид GTFS. 
 
<img class="center" width="560" height="100%" src="../../../assets/create_001.png"> 
 
 Каждый файл состоит из списка множества записей (строк данных) с несколькими информационными полями. Например, каждая строка, указанная в [routes.txt](../../documentation/schedule/reference/#routestxt), представляет маршрут общественного транспорта, а ее поля описывают несколько элементов этого маршрута, таких как его имя, описание, сведения о режиме работы.agency и т.п. 
 
<img class="center" width="560" height="100%" src="../../../assets/create_002.png"> 
 
 Базовые файлы для набора данных GTFS можно описать следующим образом: Набор данных расписания GTFS содержит один или несколько routes ([routes.txt](../../documentation/schedule/reference/#routestxt)), каждый маршрут имеет одну или несколько поездок ([trips.txt](../../documentation/schedule/reference/#tripstxt)), каждая поездка проходит через ряд stops ([stops.txt](../../documentation/schedule/reference/#stopstxt)) в указанное время ([stop_times.txt](../../documentation/schedule/reference/#stop_timestxt)). Поездки и время остановок содержат только информацию о времени суток; календарь используется для определения дней, в которые выполняется данная поездка ([calendar.txt](../../documentation/schedule/reference/#calendartxt) и [calendar_dates.txt](../../documentation/расписание/ссылка/#calendar_datestxt)). Кроме того, несколько агентств ([agency.txt](../../documentation/schedule/reference/#agencytxt)) могут управлять несколькими routes. Эти файлы связаны друг с другом с помощью полей, между которыми имеются перекрестные ссылки. 
 
<img class="center" width="560" height="100%" src="../../../assets/create_003.png"> 
 
 После того, как эти файлы были настроены для создания базового набора данных GTFS, можно добавить дополнительные (optional) файлы для обеспечения других функций или особых потребностей между транспортными агентствами и поставщиками. Некоторые примеры этих файлов включают: 
 
 - [shapes.txt](../../documentation/schedule/reference/#shapestxt), который позволяет графически представлять путь поездки, 
 - [pathways.txt](../../documentation/schedule/reference/#pathwaystxt), который предоставляет информацию, позволяющую генерировать указания, помогающие пользователям ориентироваться на станциях, 
 - [frequencies.txt](../../documentation/schedule/reference/#frequencystxt), который предоставляет альтернативный способ указания времени остановки. 
 
 Дополнительную информацию обо всех функциях GTFS, которые можно включить, см.в разделе [«Что может GTFS ?»](../features/overview/). 
 
 Набор данных GTFS Schedule может быть дополнен информацией в реальном времени, такой как положение vehicle и обновления услуг. Для этого необходимо создать фид GTFS Realtime отдельно от существующего набора данных GTFS Schedule. 
 
 Фид GTFS Realtime состоит из обычного двоичного файла, передаваемого через HTTP и часто обновляемого. Любой тип веб-сервера может размещать и обслуживать этот файл. Формат обмена данными GTFS Realtime основан на [Protocol Buffers](https://developers.google.com/protocol-buffers/), независимом от языка и платформы механизме сериализации структурированных данных. GTFS Realtime может предоставлять три типа информации: обновления поездок, служебные оповещения и местоположения транспортных средств. Их можно комбинировать в зависимости от служебной информации, которую необходимо передать. 
 
 Поскольку GTFS Realtime позволяет отображать фактическое состояние автопарка, канал необходимо регулярно обновлять — желательно всякий раз, когда поступают новые данные из системы автоматического определения местоположения транспортных средств. Объединенный набор данных GTFS Schedule и канал GTFS Realtime позволяют потребляющим приложениям предоставлять гонщикам точную и актуальную информацию. Для получения более подробной информации обратитесь к технической документации. 
 
## Создаёте свой первый фид GTFS ? 
 
 Если вы представляете agency и хотите создать свой первый фид GTFS, первое, что вам нужно сделать, это прочитать существующую документацию. 
 
 Начните с изучения возможностей GTFS в разделе ["Что может GTFS ?"](../features/overview) и определения различных функций вашей транзитной службы, которые вы хотите представить с помощью формата GTFS. Для более глубокого изучения официальная справочная документация по [GTFS Schedule](../../documentation/schedule/reference) и [GTFS Realtime](../../documentation/realtime/reference) предлагает подробные сведения.рекомендации по моделированию этих функций и обеспечению соответствия. 
 
 Далее соберите все необходимые данные из вашей системы. Сюда входит информация обо всех stops, routes, расписаниях, тарифах и т.д., поскольку многие из этих деталей будут входными данными для заполнения набора данных GTFS. 
 
 В зависимости от размера и сложности вашей системы у вас есть возможность либо создать данные самостоятельно, либо привлечь внешнего поставщика GTFS для преобразования данных в формат GTFS. 
 
 В некоторых случаях небольшие агентства с несколькими routes сами создают данные, используя общедоступное программное обеспечение, такое как электронные таблицы и текстовые редакторы. 
 
 При работе с более крупными системами большинство агентств приобретают специализированное программное обеспечение для управления GTFS у специализированных поставщиков, но некоторые могут выбрать разработку собственных внутренних инструментов. Наконец, когда характеристики системы окажутся непростыми для агентств, способных самостоятельно писать наборы данных, производство GTFS может быть полностью передано на аутсорсинг компаниям, специализирующимся на производстве данных GTFS. 
 
 <a href="https://www.flaticon.com/authors/freepik" title="Иконки от Freepik">Иконки, созданные Freepik — Flaticon</a> 
 
 [^1]: помимо текстовых файлов, формат [GeoJSON](https://geojson.org/) теперь также поддерживается в GTFS для представления определенных элементов.услуг, реагирующих на спрос. 
 

